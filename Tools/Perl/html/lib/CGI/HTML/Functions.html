<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../displayToc.js"></script>
<script language="JavaScript" src="../../../tocParas.js"></script>
<script language="JavaScript" src="../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#Calling-CGI.pm-routines">Calling CGI.pm routines</a>
    <ul>
      <li><a href="#Function-oriented-interface-HTML-exports">Function-oriented interface HTML exports</a></li>
      <li><a href="#Pragmas">Pragmas</a></li>
      <li><a href="#Special-forms-for-importing-HTML-tag-functions">Special forms for importing HTML-tag functions</a></li>
      <li><a href="#Creating-the-HTML-document-header">Creating the HTML document header</a></li>
      <li><a href="#Ending-the-Html-document">Ending the Html document:</a></li>
    </ul>
  </li>
  <li><a href="#CREATING-STANDARD-HTML-ELEMENTS">CREATING STANDARD HTML ELEMENTS:</a>
    <ul>
      <li><a href="#Providing-arguments-to-HTML-shortcuts">Providing arguments to HTML shortcuts</a></li>
      <li><a href="#The-distributive-property-of-HTML-shortcuts">The distributive property of HTML shortcuts</a></li>
      <li><a href="#HTML-shortcuts-and-list-interpolation">HTML shortcuts and list interpolation</a></li>
      <li><a href="#Non-standard-HTML-shortcuts">Non-standard HTML shortcuts</a></li>
      <li><a href="#Autoescaping-HTML">Autoescaping HTML</a></li>
    </ul>
  </li>
  <li><a href="#CREATING-FILL-OUT-FORMS">CREATING FILL-OUT FORMS:</a>
    <ul>
      <li><a href="#Creating-an-isindex-tag">Creating an isindex tag</a></li>
      <li><a href="#Starting-and-ending-a-form">Starting and ending a form</a></li>
      <li><a href="#Form-elements">Form elements</a></li>
      <li><a href="#Creating-a-text-field">Creating a text field</a></li>
      <li><a href="#Creating-a-big-text-field">Creating a big text field</a></li>
      <li><a href="#Creating-a-password-field">Creating a password field</a></li>
      <li><a href="#Creating-a-file-upload-field">Creating a file upload field</a></li>
      <li><a href="#Creating-a-popup-menu">Creating a popup menu</a></li>
      <li><a href="#Creating-an-option-group">Creating an option group</a></li>
      <li><a href="#Creating-a-scrolling-list">Creating a scrolling list</a></li>
      <li><a href="#Creating-a-group-of-related-checkboxes">Creating a group of related checkboxes</a></li>
      <li><a href="#Creating-a-standalone-checkbox">Creating a standalone checkbox</a></li>
      <li><a href="#Creating-a-radio-button-group">Creating a radio button group</a></li>
      <li><a href="#Creating-a-submit-button">Creating a submit button</a></li>
      <li><a href="#Creating-a-reset-button">Creating a reset button</a></li>
      <li><a href="#Creating-a-default-button">Creating a default button</a></li>
      <li><a href="#Creating-a-hidden-field">Creating a hidden field</a></li>
      <li><a href="#Creating-a-clickable-image-button">Creating a clickable image button</a></li>
      <li><a href="#Creating-a-javascript-action-button">Creating a javascript action button</a></li>
    </ul>
  </li>
  <li><a href="#WORKING-WITH-FRAMES">WORKING WITH FRAMES</a></li>
  <li><a href="#SUPPORT-FOR-JAVASCRIPT">SUPPORT FOR JAVASCRIPT</a></li>
  <li><a href="#LIMITED-SUPPORT-FOR-CASCADING-STYLE-SHEETS">LIMITED SUPPORT FOR CASCADING STYLE SHEETS</a>
    <ul>
      <li><a href="#Dumping-out-all-the-name-value-pairs">Dumping out all the name/value pairs</a></li>
    </ul>
  </li>
  <li><a href="#BUGS">BUGS</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>CGI::HTML::Functions - Documentation for CGI.pm Legacy HTML Functionality</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<p>Nothing here - please do not use this functionality, it is considered to be legacy and essentially deprecated. This documentation exists solely to aid in maintenance and migration of legacy code using this functionality and you are strongly encouraged to migrate away from it. If you are working on new code you should be using a template engine. For more information see <a>CGI::Alternatives</a>.</p>

<p>If you really want to continue using the HTML generation functionality of CGI.pm then you should take a look at <a>HTML::Tiny</a> instead, which may give you a migration path away from CGI.pm&#39;s html generation functions; i strongly encourage you to move towards template driven page generation for anything involving markup as it will make porting your app to other frameworks much easier in the long run.</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>The documentation here should be considered an addendum to the sections in the <a href="../../../lib/CGI.html">CGI</a> documentation - the sections here are named the same as those within the CGI perldoc.</p>

<h1 id="Calling-CGI.pm-routines">Calling CGI.pm routines</h1>

<p>HTML tag functions have both attributes (the attribute=&quot;value&quot; pairs within the tag itself) and contents (the part between the opening and closing pairs). To distinguish between attributes and contents, CGI.pm uses the convention of passing HTML attributes as a hash reference as the first argument, and the contents, if any, as any subsequent arguments. It works out like this:</p>

<pre><code>    <span class="variable">Code</span>                           <span class="variable">Generated</span> <span class="variable">HTML</span>
    <span class="operator">----</span>                           <span class="operator">--------------</span>
    <span class="variable">h1</span><span class="operator">()</span>                           <span class="operator">&lt;</span><span class="variable">h1</span> <span class="operator">/&gt;</span>
    <span class="variable">h1</span><span class="operator">(</span><span class="string">'some'</span><span class="operator">,</span><span class="string">'contents'</span><span class="operator">);</span>         <span class="operator">&lt;</span><span class="variable">h1</span><span class="operator">&gt;</span><span class="variable">some</span> <span class="variable">contents</span><span class="operator">&lt;/</span><span class="variable">h1</span><span class="operator">&gt;</span>
    <span class="variable">h1</span><span class="operator">(</span><span class="operator">{</span><span class="string">-align</span><span class="operator">=&gt;</span><span class="variable">left</span><span class="operator">}</span><span class="operator">);</span>            <span class="operator">&lt;</span><span class="variable">h1</span> <span class="variable">align</span><span class="operator">=</span><span class="string">"LEFT"</span><span class="operator">&gt;</span>
    <span class="variable">h1</span><span class="operator">(</span><span class="operator">{</span><span class="string">-align</span><span class="operator">=&gt;</span><span class="variable">left</span><span class="operator">}</span><span class="operator">,</span><span class="string">'contents'</span><span class="operator">);</span> <span class="operator">&lt;</span><span class="variable">h1</span> <span class="variable">align</span><span class="operator">=</span><span class="string">"LEFT"</span><span class="operator">&gt;</span><span class="variable">contents</span><span class="operator">&lt;/</span><span class="variable">h1</span><span class="operator">&gt;</span>
</code></pre>

<p>Many newcomers to CGI.pm are puzzled by the difference between the calling conventions for the HTML shortcuts, which require curly braces around the HTML tag attributes, and the calling conventions for other routines, which manage to generate attributes without the curly brackets. Don&#39;t be confused. As a convenience the curly braces are optional in all but the HTML shortcuts. If you like, you can use curly braces when calling any routine that takes named arguments. For example:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">header</span><span class="operator">(</span> <span class="operator">{</span> <span class="string">-type</span> <span class="operator">=&gt;</span> <span class="string">'image/gif'</span><span class="operator">,</span> <span class="string">-expires</span> <span class="operator">=&gt;</span> <span class="string">'+3d'</span> <span class="operator">}</span> <span class="operator">);</span>
</code></pre>

<p>If you use warnings, you will be warned that some CGI.pm argument names conflict with built-in perl functions. The most frequent of these is the -values argument, used to create multi-valued menus, radio button clusters and the like. To get around this warning, you have several choices:</p>

<ol>

<li><p>Use another name for the argument, if one is available. For example, -value is an alias for -values.</p>

</li>
<li><p>Change the capitalization, e.g. -Values</p>

</li>
<li><p>Put quotes around the argument name, e.g. &#39;-values&#39;</p>

</li>
</ol>

<h2 id="Function-oriented-interface-HTML-exports">Function-oriented interface HTML exports</h2>

<p>Here is a list of the HTML related function sets you can import:</p>

<dl>

<dt id="form"><b>:form</b></dt>
<dd>

<p>Import all fill-out form generating methods, such as <b>textfield()</b>.</p>

</dd>
<dt id="html2"><b>:html2</b></dt>
<dd>

<p>Import all methods that generate HTML 2.0 standard elements.</p>

</dd>
<dt id="html3"><b>:html3</b></dt>
<dd>

<p>Import all methods that generate HTML 3.0 elements (such as &lt;table&gt;, &lt;super&gt; and &lt;sub&gt;).</p>

</dd>
<dt id="html4"><b>:html4</b></dt>
<dd>

<p>Import all methods that generate HTML 4 elements (such as &lt;abbrev&gt;, &lt;acronym&gt; and &lt;thead&gt;).</p>

</dd>
<dt id="netscape"><b>:netscape</b></dt>
<dd>

<p>Import the &lt;blink&gt;, &lt;fontsize&gt; and &lt;center&gt; tags.</p>

</dd>
<dt id="html"><b>:html</b></dt>
<dd>

<p>Import all HTML-generating shortcuts (i.e. &#39;html2&#39;, &#39;html3&#39;, &#39;html4&#39; and &#39;netscape&#39;)</p>

</dd>
<dt id="standard"><b>:standard</b></dt>
<dd>

<p>Import &quot;standard&quot; features, &#39;html2&#39;, &#39;html3&#39;, &#39;html4&#39;, &#39;ssl&#39;, &#39;form&#39; and &#39;cgi&#39;.</p>

</dd>
</dl>

<p>If you import any of the state-maintaining CGI or form-generating methods, a default CGI object will be created and initialized automatically the first time you use any of the methods that require one to be present. This includes <b>param()</b>, <b>textfield()</b>, <b>submit()</b> and the like. (If you need direct access to the CGI object, you can find it in the global variable <b>$CGI::Q</b>).</p>

<h2 id="Pragmas">Pragmas</h2>

<p>Additional HTML generation related pragms:</p>

<dl>

<dt id="nosticky">-nosticky</dt>
<dd>

<p>By default the CGI module implements a state-preserving behavior called &quot;sticky&quot; fields. The way this works is that if you are regenerating a form, the methods that generate the form field values will interrogate param() to see if similarly-named parameters are present in the query string. If they find a like-named parameter, they will use it to set their default values.</p>

<p>Sometimes this isn&#39;t what you want. The <b>-nosticky</b> pragma prevents this behavior. You can also selectively change the sticky behavior in each element that you generate.</p>

</dd>
<dt id="tabindex">-tabindex</dt>
<dd>

<p>Automatically add tab index attributes to each form field. With this option turned off, you can still add tab indexes manually by passing a -tabindex option to each field-generating method.</p>

</dd>
<dt id="no_xhtml">-no_xhtml</dt>
<dd>

<p>By default, CGI.pm versions 2.69 and higher emit XHTML (http://www.w3.org/TR/xhtml1/). The -no_xhtml pragma disables this feature. Thanks to Michalis Kabrianis &lt;kabrianis@hellug.gr&gt; for this feature.</p>

<p>If start_html()&#39;s -dtd parameter specifies an HTML 2.0, 3.2, 4.0 or 4.01 DTD, XHTML will automatically be disabled without needing to use this pragma.</p>

</dd>
</dl>

<h2 id="Special-forms-for-importing-HTML-tag-functions">Special forms for importing HTML-tag functions</h2>

<p>Many of the methods generate HTML tags. As described below, tag functions automatically generate both the opening and closing tags. For example:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">h1</span><span class="operator">(</span><span class="string">'Level 1 Header'</span><span class="operator">);</span>
</code></pre>

<p>produces</p>

<pre><code>    &lt;h1&gt;Level 1 Header&lt;/h1&gt;</code></pre>

<p>There will be some times when you want to produce the start and end tags yourself. In this case, you can use the form start_<i>tag_name</i> and end_<i>tag_name</i>, as in:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">start_h1</span><span class="operator">,</span><span class="string">'Level 1 Header'</span><span class="operator">,</span><span class="variable">end_h1</span><span class="operator">;</span>
</code></pre>

<h2 id="Creating-the-HTML-document-header">Creating the HTML document header</h2>

<pre><code>    <span class="keyword">print</span> <span class="variable">start_html</span><span class="operator">(</span>
        <span class="string">-title</span>      <span class="operator">=&gt;</span> <span class="string">'Secrets of the Pyramids'</span><span class="operator">,</span>
        <span class="string">-author</span>     <span class="operator">=&gt;</span> <span class="string">'fred@capricorn.org'</span><span class="operator">,</span>
        <span class="string">-base</span>       <span class="operator">=&gt;</span> <span class="string">'true'</span><span class="operator">,</span>
        <span class="string">-target</span>     <span class="operator">=&gt;</span> <span class="string">'_blank'</span><span class="operator">,</span>
        <span class="string">-meta</span>       <span class="operator">=&gt;</span> <span class="operator">{</span><span class="string">'keywords'</span><span class="operator">=&gt;</span><span class="string">'pharaoh secret mummy'</span><span class="operator">,</span>
        <span class="string">'copyright'</span> <span class="operator">=&gt;</span> <span class="string">'copyright 1996 King Tut'</span><span class="operator">}</span><span class="operator">,</span>
        <span class="string">-style</span>      <span class="operator">=&gt;</span> <span class="operator">{</span><span class="string">'src'</span><span class="operator">=&gt;</span><span class="string">'/styles/style1.css'</span><span class="operator">}</span><span class="operator">,</span>
        <span class="string">-BGCOLOR</span>    <span class="operator">=&gt;</span> <span class="string">'blue'</span>
    <span class="operator">);</span>
</code></pre>

<p>The start_html() routine creates the top of the page, along with a lot of optional information that controls the page&#39;s appearance and behavior.</p>

<p>This method returns a canned HTML header and the opening &lt;body&gt; tag. All parameters are optional. In the named parameter form, recognized parameters are -title, -author, -base, -xbase, -dtd, -lang and -target (see below for the explanation). Any additional parameters you provide, such as the unofficial BGCOLOR attribute, are added to the &lt;body&gt; tag. Additional parameters must be proceeded by a hyphen.</p>

<p>The argument <b>-xbase</b> allows you to provide an HREF for the &lt;base&gt; tag different from the current location, as in</p>

<pre><code>    -xbase =&gt; &quot;http://home.mcom.com/&quot;</code></pre>

<p>All relative links will be interpreted relative to this tag.</p>

<p>The argument <b>-target</b> allows you to provide a default target frame for all the links and fill-out forms on the page. <b>This is a non-standard HTTP feature</b> <b>which only works with some browsers!</b></p>

<pre><code>    -target =&gt; &quot;answer_window&quot;</code></pre>

<p>All relative links will be interpreted relative to this tag. You add arbitrary meta information to the header with the <b>-meta</b> argument. This argument expects a reference to a hash containing name/value pairs of meta information. These will be turned into a series of header &lt;meta&gt; tags that look something like this:</p>

<pre><code>    &lt;meta name=&quot;keywords&quot; content=&quot;pharaoh secret mummy&quot;&gt;
    &lt;meta name=&quot;description&quot; content=&quot;copyright 1996 King Tut&quot;&gt;</code></pre>

<p>To create an HTTP-EQUIV type of &lt;meta&gt; tag, use <b>-head</b>, described below.</p>

<p>The <b>-style</b> argument is used to incorporate cascading stylesheets into your code. See the section on CASCADING STYLESHEETS for more information.</p>

<p>The <b>-lang</b> argument is used to incorporate a language attribute into the &lt;html&gt; tag. For example:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">start_html</span><span class="operator">(</span> <span class="string">-lang</span> <span class="operator">=&gt;</span> <span class="string">'fr-CA'</span> <span class="operator">);</span>
</code></pre>

<p>The default if not specified is &quot;en-US&quot; for US English, unless the -dtd parameter specifies an HTML 2.0 or 3.2 DTD, in which case the lang attribute is left off. You can force the lang attribute to left off in other cases by passing an empty string (-lang=&gt;&#39;&#39;).</p>

<p>The <b>-encoding</b> argument can be used to specify the character set for XHTML. It defaults to iso-8859-1 if not specified.</p>

<p>The <b>-dtd</b> argument can be used to specify a public DTD identifier string. For example:</p>

<pre><code>    -dtd =&gt; &#39;-//W3C//DTD HTML 4.01 Transitional//EN&#39;)</code></pre>

<p>Alternatively, it can take public and system DTD identifiers as an array:</p>

<pre><code>    -dtd =&gt; [
        &#39;-//W3C//DTD HTML 4.01 Transitional//EN&#39;,
        &#39;http://www.w3.org/TR/html4/loose.dtd&#39;
    ]</code></pre>

<p>For the public DTD identifier to be considered, it must be valid. Otherwise it will be replaced by the default DTD. If the public DTD contains &#39;XHTML&#39;, CGI.pm will emit XML.</p>

<p>The <b>-declare_xml</b> argument, when used in conjunction with XHTML, will put a &lt;?xml&gt; declaration at the top of the HTML header. The sole purpose of this declaration is to declare the character set encoding. In the absence of -declare_xml, the output HTML will contain a &lt;meta&gt; tag that specifies the encoding, allowing the HTML to pass most validators. The default for -declare_xml is false.</p>

<p>You can place other arbitrary HTML elements to the &lt;head&gt; section with the <b>-head</b> tag. For example, to place a &lt;link&gt; element in the head section, use this:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">start_html</span><span class="operator">(</span>
        <span class="string">-head</span> <span class="operator">=&gt;</span> <span class="variable">Link</span><span class="operator">(</span><span class="operator">{</span>
            <span class="string">-rel</span>  <span class="operator">=&gt;</span> <span class="string">'shortcut icon'</span><span class="operator">,</span>
            <span class="string">-href</span> <span class="operator">=&gt;</span> <span class="string">'favicon.ico'</span>
        <span class="operator">}</span><span class="operator">)</span>
    <span class="operator">);</span>
</code></pre>

<p>To incorporate multiple HTML elements into the &lt;head&gt; section, just pass an array reference:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">start_html</span><span class="operator">(</span>
        <span class="string">-head</span> <span class="operator">=&gt;</span> <span class="operator">[</span>
            <span class="variable">Link</span><span class="operator">(</span><span class="operator">{</span>
                <span class="string">-rel</span>  <span class="operator">=&gt;</span> <span class="string">'next'</span><span class="operator">,</span>
                <span class="string">-href</span> <span class="operator">=&gt;</span> <span class="string">'http://www.capricorn.com/s2.html'</span>
            <span class="operator">}</span><span class="operator">),</span>
            <span class="variable">Link</span><span class="operator">(</span><span class="operator">{</span>
                <span class="string">-rel</span>  <span class="operator">=&gt;</span> <span class="string">'previous'</span><span class="operator">,</span>
                <span class="string">-href</span> <span class="operator">=&gt;</span> <span class="string">'http://www.capricorn.com/s1.html'</span>
            <span class="operator">}</span><span class="operator">)</span>
        <span class="operator">]</span>
    <span class="operator">);</span>
</code></pre>

<p>And here&#39;s how to create an HTTP-EQUIV &lt;meta&gt; tag:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">start_html</span><span class="operator">(</span>
        <span class="string">-head</span> <span class="operator">=&gt;</span> <span class="variable">meta</span><span class="operator">(</span><span class="operator">{</span>
            <span class="string">-http_equiv</span> <span class="operator">=&gt;</span> <span class="string">'Content-Type'</span><span class="operator">,</span>
            <span class="string">-content</span>    <span class="operator">=&gt;</span> <span class="string">'text/html'</span>
        <span class="operator">}</span><span class="operator">)</span>
    <span class="operator">);</span>
</code></pre>

<p>JAVASCRIPTING: The <b>-script</b>, <b>-noScript</b>, <b>-onLoad</b>, <b>-onMouseOver</b>, <b>-onMouseOut</b> and <b>-onUnload</b> parameters are used to add JavaScript calls to your pages. <b>-script</b> should point to a block of text containing JavaScript function definitions. This block will be placed within a &lt;script&gt; block inside the HTML (not HTTP) header. The block is placed in the header in order to give your page a fighting chance of having all its JavaScript functions in place even if the user presses the stop button before the page has loaded completely. CGI.pm attempts to format the script in such a way that JavaScript-naive browsers will not choke on the code: unfortunately there are some browsers that get confused by it nevertheless.</p>

<p>The <b>-onLoad</b> and <b>-onUnload</b> parameters point to fragments of JavaScript code to execute when the page is respectively opened and closed by the browser. Usually these parameters are calls to functions defined in the <b>-script</b> field:</p>

<pre><code>    <span class="variable">$q</span> <span class="operator">=</span> <span class="variable">CGI</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="variable">header</span><span class="operator">;</span>
    <span class="variable">$JSCRIPT</span> <span class="operator">=</span> <span class="operator">&lt;&lt;</span><span class="default">END</span><span class="operator">;</span><span class="string">
        // Ask a silly question
        function riddle_me_this() {
            var r = prompt(
                "What walks on four legs in the morning, " +
                "two legs in the afternoon, " +
                "and three legs in the evening?"
            );
            response(r);
        }
        // Get a silly answer
        function response(answer) {
            if (answer == "man")
                alert("Right you are!");
            else
                alert("Wrong!  Guess again.");
        }
    </span><span class="default">END</span>
    <span class="keyword">print</span> <span class="variable">start_html</span><span class="operator">(</span>
        <span class="string">-title</span>  <span class="operator">=&gt;</span> <span class="string">'The Riddle of the Sphinx'</span><span class="operator">,</span>
        <span class="string">-script</span> <span class="operator">=&gt;</span> <span class="variable">$JSCRIPT</span>
    <span class="operator">);</span>
</code></pre>

<p>Use the <b>-noScript</b> parameter to pass some HTML text that will be displayed on browsers that do not have JavaScript (or browsers where JavaScript is turned off).</p>

<p>The &lt;script&gt; tag, has several attributes including &quot;type&quot;, &quot;charset&quot; and &quot;src&quot;. &quot;src&quot; allows you to keep JavaScript code in an external file. To use these attributes pass a HASH reference in the <b>-script</b> parameter containing one or more of -type, -src, or -code:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">start_html</span><span class="operator">(</span>
        <span class="string">-title</span>  <span class="operator">=&gt;</span> <span class="string">'The Riddle of the Sphinx'</span><span class="operator">,</span>
        <span class="string">-script</span> <span class="operator">=&gt;</span> <span class="operator">{</span>
            <span class="string">-type</span> <span class="operator">=&gt;</span> <span class="string">'JAVASCRIPT'</span><span class="operator">,</span>
            <span class="string">-src</span>  <span class="operator">=&gt;</span> <span class="string">'/javascript/sphinx.js'</span><span class="operator">}</span>
        <span class="operator">);</span>
    
    <span class="keyword">print</span> <span class="variable">$q</span><span class="operator">-&gt;(</span>
        <span class="string">-title</span>  <span class="operator">=&gt;</span> <span class="string">'The Riddle of the Sphinx'</span><span class="operator">,</span>
        <span class="string">-script</span> <span class="operator">=&gt;</span> <span class="operator">{</span>
            <span class="string">-type</span> <span class="operator">=&gt;</span> <span class="string">'PERLSCRIPT'</span><span class="operator">,</span>
            <span class="string">-code</span> <span class="operator">=&gt;</span> <span class="string">'print "hello world!\n;"'</span>
        <span class="operator">}</span>
    <span class="operator">);</span>
</code></pre>

<p>A final feature allows you to incorporate multiple &lt;script&gt; sections into the header. Just pass the list of script sections as an array reference. This allows you to specify different source files for different dialects of JavaScript. Example:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">start_html</span><span class="operator">(</span>
        <span class="string">-title</span>  <span class="operator">=&gt;</span> <span class="string">'The Riddle of the Sphinx'</span><span class="operator">,</span>
        <span class="string">-script</span> <span class="operator">=&gt;</span> <span class="operator">[</span>
            <span class="operator">{</span>
                <span class="string">-type</span> <span class="operator">=&gt;</span> <span class="string">'text/javascript'</span><span class="operator">,</span>
                <span class="string">-src</span>  <span class="operator">=&gt;</span> <span class="string">'/javascript/utilities10.js'</span>
            <span class="operator">}</span><span class="operator">,</span>
            <span class="operator">{</span>
                <span class="string">-type</span> <span class="operator">=&gt;</span> <span class="string">'text/javascript'</span><span class="operator">,</span>
                <span class="string">-src</span>  <span class="operator">=&gt;</span> <span class="string">'/javascript/utilities11.js'</span>
            <span class="operator">}</span><span class="operator">,</span>
            <span class="operator">{</span>
                <span class="string">-type</span> <span class="operator">=&gt;</span> <span class="string">'text/jscript'</span><span class="operator">,</span>
                <span class="string">-src</span>  <span class="operator">=&gt;</span> <span class="string">'/javascript/utilities12.js'</span>
            <span class="operator">}</span><span class="operator">,</span>
            <span class="operator">{</span>
                <span class="string">-type</span> <span class="operator">=&gt;</span> <span class="string">'text/ecmascript'</span><span class="operator">,</span>
                <span class="string">-src</span>  <span class="operator">=&gt;</span> <span class="string">'/javascript/utilities219.js'</span>
            <span class="operator">}</span>
        <span class="operator">]</span>
    <span class="operator">);</span>
</code></pre>

<p>The option &quot;-language&quot; is a synonym for -type, and is supported for backwards compatibility.</p>

<p>The old-style positional parameters are as follows:</p>

<p><b>Parameters:</b></p>

<ol>

<li><p>The title</p>

</li>
<li><p>The author&#39;s e-mail address (will create a &lt;link rev=&quot;MADE&quot;&gt; tag if present</p>

</li>
<li><p>A &#39;true&#39; flag if you want to include a &lt;base&gt; tag in the header. This helps resolve relative addresses to absolute ones when the document is moved, but makes the document hierarchy non-portable. Use with care!</p>

</li>
</ol>

<p>Other parameters you want to include in the &lt;body&gt; tag may be appended to these. This is a good place to put HTML extensions, such as colors and wallpaper patterns.</p>

<h2 id="Ending-the-Html-document">Ending the Html document:</h2>

<pre><code>    <span class="keyword">print</span> <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">end_html</span><span class="operator">;</span>
</code></pre>

<p>This ends an HTML document by printing the &lt;/body&gt;&lt;/html&gt; tags.</p>

<h1 id="CREATING-STANDARD-HTML-ELEMENTS">CREATING STANDARD HTML ELEMENTS:</h1>

<p>CGI.pm defines general HTML shortcut methods for many HTML tags. HTML shortcuts are named after a single HTML element and return a fragment of HTML text. Example:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">blockquote</span><span class="operator">(</span>
                     <span class="string">"Many years ago on the island of"</span><span class="operator">,</span>
                     <span class="variable">$q</span><span class="operator">-&gt;</span>a<span class="operator">(</span><span class="operator">{</span><span class="string">href</span><span class="operator">=&gt;</span><span class="string">"http://crete.org/"</span><span class="operator">}</span><span class="operator">,</span><span class="string">"Crete"</span><span class="operator">),</span>
                     <span class="string">"there lived a Minotaur named"</span><span class="operator">,</span>
                     <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">strong</span><span class="operator">(</span><span class="string">"Fred."</span><span class="operator">),</span>
                    <span class="operator">),</span>
       <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">hr</span><span class="operator">;</span>
</code></pre>

<p>This results in the following HTML code (extra newlines have been added for readability):</p>

<pre><code>   &lt;blockquote&gt;
   Many years ago on the island of
   &lt;a href=&quot;http://crete.org/&quot;&gt;Crete&lt;/a&gt; there lived
   a minotaur named &lt;strong&gt;Fred.&lt;/strong&gt; 
   &lt;/blockquote&gt;
   &lt;hr&gt;</code></pre>

<p>If you find the syntax for calling the HTML shortcuts awkward, you can import them into your namespace and dispense with the object syntax completely (see the next section for more details):</p>

<pre><code>   <span class="keyword">use</span> <span class="variable">CGI</span> <span class="string">':standard'</span><span class="operator">;</span>
   <span class="keyword">print</span> <span class="variable">blockquote</span><span class="operator">(</span>
      <span class="string">"Many years ago on the island of"</span><span class="operator">,</span>
      <span class="variable">a</span><span class="operator">(</span><span class="operator">{</span><span class="string">href</span><span class="operator">=&gt;</span><span class="string">"http://crete.org/"</span><span class="operator">}</span><span class="operator">,</span><span class="string">"Crete"</span><span class="operator">),</span>
      <span class="string">"there lived a minotaur named"</span><span class="operator">,</span>
      <span class="variable">strong</span><span class="operator">(</span><span class="string">"Fred."</span><span class="operator">),</span>
      <span class="operator">),</span>
      <span class="variable">hr</span><span class="operator">;</span>
</code></pre>

<h2 id="Providing-arguments-to-HTML-shortcuts">Providing arguments to HTML shortcuts</h2>

<p>The HTML methods will accept zero, one or multiple arguments. If you provide no arguments, you get a single tag:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">hr</span><span class="operator">;</span>    <span class="comment">#  &lt;hr&gt;</span>
</code></pre>

<p>If you provide one or more string arguments, they are concatenated together with spaces and placed between opening and closing tags:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">h1</span><span class="operator">(</span><span class="string">"Chapter"</span><span class="operator">,</span><span class="string">"1"</span><span class="operator">);</span> <span class="comment"># &lt;h1&gt;Chapter 1&lt;/h1&gt;"</span>
</code></pre>

<p>If the first argument is a hash reference, then the keys and values of the hash become the HTML tag&#39;s attributes:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">a</span><span class="operator">(</span><span class="operator">{</span><span class="string">-href</span><span class="operator">=&gt;</span><span class="string">'fred.html'</span><span class="operator">,</span><span class="string">-target</span><span class="operator">=&gt;</span><span class="string">'_new'</span><span class="operator">}</span><span class="operator">,</span>
      <span class="string">"Open a new frame"</span><span class="operator">);</span>
   
            <span class="operator">&lt;</span><span class="variable">a</span> <span class="variable">href</span><span class="operator">=</span><span class="string">"fred.html"</span><span class="operator">,</span><span class="variable">target</span><span class="operator">=</span><span class="string">"_new"</span><span class="operator">&gt;</span><span class="variable">Open</span> <span class="variable">a</span> <span class="variable">new</span> <span class="variable">frame</span><span class="operator">&lt;/</span><span class="variable">a</span><span class="operator">&gt;</span>
</code></pre>

<p>You may dispense with the dashes in front of the attribute names if you prefer:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">img</span> <span class="operator">{</span><span class="string">src</span><span class="operator">=&gt;</span><span class="string">'fred.gif'</span><span class="operator">,</span><span class="string">align</span><span class="operator">=&gt;</span><span class="string">'LEFT'</span><span class="operator">};</span>
   
           <span class="operator">&lt;</span><span class="variable">img</span> <span class="variable">align</span><span class="operator">=</span><span class="string">"LEFT"</span> <span class="variable">src</span><span class="operator">=</span><span class="string">"fred.gif"</span><span class="operator">&gt;</span>
</code></pre>

<p>Sometimes an HTML tag attribute has no argument. For example, ordered lists can be marked as COMPACT. The syntax for this is an argument that that points to an undef string:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">ol</span><span class="operator">(</span><span class="operator">{</span><span class="string">compact</span><span class="operator">=&gt;</span><span class="keyword">undef</span><span class="operator">}</span><span class="operator">,</span><span class="variable">li</span><span class="operator">(</span><span class="string">'one'</span><span class="operator">),</span><span class="variable">li</span><span class="operator">(</span><span class="string">'two'</span><span class="operator">),</span><span class="variable">li</span><span class="operator">(</span><span class="string">'three'</span><span class="operator">));</span>
</code></pre>

<p>Prior to CGI.pm version 2.41, providing an empty (&#39;&#39;) string as an attribute argument was the same as providing undef. However, this has changed in order to accommodate those who want to create tags of the form &lt;img alt=&quot;&quot;&gt;. The difference is shown in these two pieces of code:</p>

<pre><code>   <span class="variable">CODE</span>                   <span class="variable">RESULT</span>
   <span class="variable">img</span><span class="operator">(</span><span class="operator">{</span><span class="string">alt</span><span class="operator">=&gt;</span><span class="keyword">undef</span><span class="operator">}</span><span class="operator">)</span>      <span class="operator">&lt;</span><span class="variable">img</span> <span class="variable">alt</span><span class="operator">&gt;</span>
   <span class="variable">img</span><span class="operator">(</span><span class="operator">{</span><span class="string">alt</span><span class="operator">=&gt;</span><span class="string">''</span><span class="operator">}</span><span class="operator">)</span>         <span class="operator">&lt;</span><span class="variable">img</span> <span class="variable">alt</span><span class="operator">=</span><span class="string">""</span><span class="operator">&gt;</span>
</code></pre>

<h2 id="The-distributive-property-of-HTML-shortcuts">The distributive property of HTML shortcuts</h2>

<p>One of the cool features of the HTML shortcuts is that they are distributive. If you give them an argument consisting of a <b>reference</b> to a list, the tag will be distributed across each element of the list. For example, here&#39;s one way to make an ordered list:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">ul</span><span class="operator">(</span>
             <span class="variable">li</span><span class="operator">(</span><span class="operator">{</span><span class="string">-type</span><span class="operator">=&gt;</span><span class="string">'disc'</span><span class="operator">}</span><span class="operator">,</span><span class="operator">[</span><span class="string">'Sneezy'</span><span class="operator">,</span><span class="string">'Doc'</span><span class="operator">,</span><span class="string">'Sleepy'</span><span class="operator">,</span><span class="string">'Happy'</span><span class="operator">]</span><span class="operator">)</span>
           <span class="operator">);</span>
</code></pre>

<p>This example will result in HTML output that looks like this:</p>

<pre><code>   &lt;ul&gt;
     &lt;li type=&quot;disc&quot;&gt;Sneezy&lt;/li&gt;
     &lt;li type=&quot;disc&quot;&gt;Doc&lt;/li&gt;
     &lt;li type=&quot;disc&quot;&gt;Sleepy&lt;/li&gt;
     &lt;li type=&quot;disc&quot;&gt;Happy&lt;/li&gt;
   &lt;/ul&gt;</code></pre>

<p>This is extremely useful for creating tables. For example:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">table</span><span class="operator">(</span><span class="operator">{</span><span class="string">-border</span><span class="operator">=&gt;</span><span class="keyword">undef</span><span class="operator">}</span><span class="operator">,</span>
           <span class="variable">caption</span><span class="operator">(</span><span class="string">'When Should You Eat Your Vegetables?'</span><span class="operator">),</span>
           <span class="variable">Tr</span><span class="operator">(</span><span class="operator">{</span><span class="string">-align</span><span class="operator">=&gt;</span><span class="string">'CENTER'</span><span class="operator">,</span><span class="string">-valign</span><span class="operator">=&gt;</span><span class="string">'TOP'</span><span class="operator">}</span><span class="operator">,</span>
           <span class="operator">[</span>
              <span class="variable">th</span><span class="operator">(</span><span class="operator">[</span><span class="string">'Vegetable'</span><span class="operator">,</span> <span class="string">'Breakfast'</span><span class="operator">,</span><span class="string">'Lunch'</span><span class="operator">,</span><span class="string">'Dinner'</span><span class="operator">]</span><span class="operator">),</span>
              <span class="variable">td</span><span class="operator">(</span><span class="operator">[</span><span class="string">'Tomatoes'</span> <span class="operator">,</span> <span class="string">'no'</span><span class="operator">,</span> <span class="string">'yes'</span><span class="operator">,</span> <span class="string">'yes'</span><span class="operator">]</span><span class="operator">),</span>
              <span class="variable">td</span><span class="operator">(</span><span class="operator">[</span><span class="string">'Broccoli'</span> <span class="operator">,</span> <span class="string">'no'</span><span class="operator">,</span> <span class="string">'no'</span><span class="operator">,</span>  <span class="string">'yes'</span><span class="operator">]</span><span class="operator">),</span>
              <span class="variable">td</span><span class="operator">(</span><span class="operator">[</span><span class="string">'Onions'</span>   <span class="operator">,</span> <span class="string">'yes'</span><span class="operator">,</span><span class="string">'yes'</span><span class="operator">,</span> <span class="string">'yes'</span><span class="operator">]</span><span class="operator">)</span>
           <span class="operator">]</span>
           <span class="operator">)</span>
        <span class="operator">);</span>
</code></pre>

<h2 id="HTML-shortcuts-and-list-interpolation">HTML shortcuts and list interpolation</h2>

<p>Consider this bit of code:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">blockquote</span><span class="operator">(</span><span class="variable">em</span><span class="operator">(</span><span class="string">'Hi'</span><span class="operator">),</span><span class="string">'mom!'</span><span class="operator">));</span>
</code></pre>

<p>It will ordinarily return the string that you probably expect, namely:</p>

<pre><code>   &lt;blockquote&gt;&lt;em&gt;Hi&lt;/em&gt; mom!&lt;/blockquote&gt;</code></pre>

<p>Note the space between the element &quot;Hi&quot; and the element &quot;mom!&quot;. CGI.pm puts the extra space there using array interpolation, which is controlled by the magic $&quot; variable. Sometimes this extra space is not what you want, for example, when you are trying to align a series of images. In this case, you can simply change the value of $&quot; to an empty string.</p>

<pre><code>   <span class="operator">{</span>
      <span class="keyword">local</span><span class="operator">(</span><span class="variable">$"</span><span class="operator">)</span> <span class="operator">=</span> <span class="string">''</span><span class="operator">;</span>
      <span class="keyword">print</span> <span class="variable">blockquote</span><span class="operator">(</span><span class="variable">em</span><span class="operator">(</span><span class="string">'Hi'</span><span class="operator">),</span><span class="string">'mom!'</span><span class="operator">));</span>
    <span class="operator">}</span>
</code></pre>

<p>I suggest you put the code in a block as shown here. Otherwise the change to $&quot; will affect all subsequent code until you explicitly reset it.</p>

<h2 id="Non-standard-HTML-shortcuts">Non-standard HTML shortcuts</h2>

<p>A few HTML tags don&#39;t follow the standard pattern for various reasons.</p>

<p><b>comment()</b> generates an HTML comment (&lt;!-- comment --&gt;). Call it like</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">comment</span><span class="operator">(</span><span class="string">'here is my comment'</span><span class="operator">);</span>
</code></pre>

<p>Because of conflicts with built-in perl functions, the following functions begin with initial caps:</p>

<pre><code>    Select
    Tr
    Link
    Delete
    Accept
    Sub</code></pre>

<p>In addition, start_html(), end_html(), start_form(), end_form(), start_multipart_form() and all the fill-out form tags are special. See their respective sections.</p>

<h2 id="Autoescaping-HTML">Autoescaping HTML</h2>

<p>By default, all HTML that is emitted by the form-generating functions is passed through a function called escapeHTML():</p>

<dl>

<dt id="escaped_string-escapeHTML-unescaped-string">$escaped_string = escapeHTML(&quot;unescaped string&quot;);</dt>
<dd>

<p>Escape HTML formatting characters in a string. Internally this calls <a href="../../../lib/HTML/Entities.html">HTML::Entities</a> (encode_entities) so really you should just use that instead - the default list of chars that will be encoded (passed to the HTML::Entities encode_entities method) is:</p>

<pre><code>    &amp; &lt; &gt; &quot; \x8b \x9b &#39;</code></pre>

<p>you can control this list by setting the value of $CGI::ENCODE_ENTITIES:</p>

<pre><code>    <span class="comment"># only encode &lt; &gt;</span>
    <span class="variable">$CGI::ENCODE_ENTITIES</span> <span class="operator">=</span> <span class="string">q{&lt;&gt;}</span>
</code></pre>

<p>if you want to encode <b>all</b> entities then undef $CGI::ENCODE_ENTITIES:</p>

<pre><code>    <span class="comment"># encode all entities</span>
    <span class="variable">$CGI::ENCODE_ENTITIES</span> <span class="operator">=</span> <span class="keyword">undef</span><span class="operator">;</span>
</code></pre>

</dd>
</dl>

<p>The automatic escaping does not apply to other shortcuts, such as h1(). You should call escapeHTML() yourself on untrusted data in order to protect your pages against nasty tricks that people may enter into guestbooks, etc.. To change the character set, use charset(). To turn autoescaping off completely, use autoEscape(0):</p>

<dl>

<dt id="charset-charset-charset">$charset = charset([$charset]);</dt>
<dd>

<p>Get or set the current character set.</p>

</dd>
<dt id="flag-autoEscape-flag">$flag = autoEscape([$flag]);</dt>
<dd>

<p>Get or set the value of the autoescape flag.</p>

</dd>
</dl>

<h1 id="CREATING-FILL-OUT-FORMS">CREATING FILL-OUT FORMS:</h1>

<p><i>General note</i> The various form-creating methods all return strings to the caller, containing the tag or tags that will create the requested form element. You are responsible for actually printing out these strings. It&#39;s set up this way so that you can place formatting tags around the form elements.</p>

<p><i>Another note</i> The default values that you specify for the forms are only used the <b>first</b> time the script is invoked (when there is no query string). On subsequent invocations of the script (when there is a query string), the former values are used even if they are blank.</p>

<p>If you want to change the value of a field from its previous value, you have two choices:</p>

<p>(1) call the param() method to set it.</p>

<p>(2) use the -override (alias -force) parameter (a new feature in version 2.15). This forces the default value to be used, regardless of the previous value:</p>

<pre><code>   <span class="keyword">print</span> <span class="variable">textfield</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'field_name'</span><span class="operator">,</span>
                           <span class="string">-default</span><span class="operator">=&gt;</span><span class="string">'starting value'</span><span class="operator">,</span>
                           <span class="string">-override</span><span class="operator">=&gt;</span><span class="number">1</span><span class="operator">,</span>
                           <span class="string">-size</span><span class="operator">=&gt;</span><span class="number">50</span><span class="operator">,</span>
                           <span class="string">-maxlength</span><span class="operator">=&gt;</span><span class="number">80</span><span class="operator">);</span>
</code></pre>

<p><i>Yet another note</i> By default, the text and labels of form elements are escaped according to HTML rules. This means that you can safely use &quot;&lt;CLICK ME&gt;&quot; as the label for a button. However, it also interferes with your ability to incorporate special HTML character sequences, such as &amp;Aacute;, into your fields. If you wish to turn off automatic escaping, call the autoEscape() method with a false value immediately after creating the CGI object:</p>

<pre><code>   <span class="variable">$q</span> <span class="operator">=</span> <span class="variable">CGI</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">;</span>
   <span class="variable">$q</span><span class="operator">-&gt;</span><span class="variable">autoEscape</span><span class="operator">(</span><span class="number">0</span><span class="operator">);</span>
</code></pre>

<p>Note that autoEscape() is exclusively used to effect the behavior of how some CGI.pm HTML generation functions handle escaping. Calling escapeHTML() explicitly will always escape the HTML.</p>

<p><i>A Lurking Trap!</i> Some of the form-element generating methods return multiple tags. In a scalar context, the tags will be concatenated together with spaces, or whatever is the current value of the $&quot; global. In a list context, the methods will return a list of elements, allowing you to modify them if you wish. Usually you will not notice this behavior, but beware of this:</p>

<pre><code>    printf(&quot;%s\n&quot;,end_form())</code></pre>

<p>end_form() produces several tags, and only the first of them will be printed because the format only expects one value.</p>

<p>&lt;p&gt;</p>

<h2 id="Creating-an-isindex-tag">Creating an isindex tag</h2>

<pre><code>   <span class="keyword">print</span> <span class="variable">isindex</span><span class="operator">(</span><span class="string">-action</span><span class="operator">=&gt;</span><span class="variable">$action</span><span class="operator">);</span>
   
         <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
   
   <span class="keyword">print</span> <span class="variable">isindex</span><span class="operator">(</span><span class="variable">$action</span><span class="operator">);</span>
</code></pre>

<p>Prints out an &lt;isindex&gt; tag. Not very exciting. The parameter -action specifies the URL of the script to process the query. The default is to process the query with the current script.</p>

<h2 id="Starting-and-ending-a-form">Starting and ending a form</h2>

<pre><code>    <span class="keyword">print</span> <span class="variable">start_form</span><span class="operator">(</span><span class="string">-method</span><span class="operator">=&gt;</span><span class="variable">$method</span><span class="operator">,</span>
                    <span class="string">-action</span><span class="operator">=&gt;</span><span class="variable">$action</span><span class="operator">,</span>
                    <span class="string">-enctype</span><span class="operator">=&gt;</span><span class="variable">$encoding</span><span class="operator">);</span>
      <span class="operator">&lt;...</span> <span class="variable">various</span> <span class="variable">form</span> <span class="variable">stuff</span> <span class="operator">...&gt;</span>
    <span class="keyword">print</span> <span class="variable">end_form</span><span class="operator">;</span>
    
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
    
    <span class="keyword">print</span> <span class="variable">start_form</span><span class="operator">(</span><span class="variable">$method</span><span class="operator">,</span><span class="variable">$action</span><span class="operator">,</span><span class="variable">$encoding</span><span class="operator">);</span>
      <span class="operator">&lt;...</span> <span class="variable">various</span> <span class="variable">form</span> <span class="variable">stuff</span> <span class="operator">...&gt;</span>
    <span class="keyword">print</span> <span class="variable">end_form</span><span class="operator">;</span>
</code></pre>

<p>start_form() will return a &lt;form&gt; tag with the optional method, action and form encoding that you specify. The defaults are:</p>

<pre><code>    method: POST
    action: this script
    enctype: application/x-www-form-urlencoded for non-XHTML
             multipart/form-data for XHTML, see multipart/form-data below.</code></pre>

<p>end_form() returns the closing &lt;/form&gt; tag.</p>

<p>start_form()&#39;s enctype argument tells the browser how to package the various fields of the form before sending the form to the server. Two values are possible:</p>

<dl>

<dt id="application-x-www-form-urlencoded"><b>application/x-www-form-urlencoded</b></dt>
<dd>

<p>This is the older type of encoding. It is compatible with many CGI scripts and is suitable for short fields containing text data. For your convenience, CGI.pm stores the name of this encoding type in <b>&amp;CGI::URL_ENCODED</b>.</p>

</dd>
<dt id="multipart-form-data"><b>multipart/form-data</b></dt>
<dd>

<p>This is the newer type of encoding. It is suitable for forms that contain very large fields or that are intended for transferring binary data. Most importantly, it enables the &quot;file upload&quot; feature. For your convenience, CGI.pm stores the name of this encoding type in <b>&amp;CGI::MULTIPART</b></p>

<p>Forms that use this type of encoding are not easily interpreted by CGI scripts unless they use CGI.pm or another library designed to handle them.</p>

<p>If XHTML is activated (the default), then forms will be automatically created using this type of encoding.</p>

</dd>
</dl>

<p>The start_form() method uses the older form of encoding by default unless XHTML is requested. If you want to use the newer form of encoding by default, you can call <b>start_multipart_form()</b> instead of <b>start_form()</b>. The method <b>end_multipart_form()</b> is an alias to <b>end_form()</b>.</p>

<p>JAVASCRIPTING: The <b>-name</b> and <b>-onSubmit</b> parameters are provided for use with JavaScript. The -name parameter gives the form a name so that it can be identified and manipulated by JavaScript functions. -onSubmit should point to a JavaScript function that will be executed just before the form is submitted to your server. You can use this opportunity to check the contents of the form for consistency and completeness. If you find something wrong, you can put up an alert box or maybe fix things up yourself. You can abort the submission by returning false from this function.</p>

<p>Usually the bulk of JavaScript functions are defined in a &lt;script&gt; block in the HTML header and -onSubmit points to one of these function call. See start_html() for details.</p>

<h2 id="Form-elements">Form elements</h2>

<p>After starting a form, you will typically create one or more textfields, popup menus, radio groups and other form elements. Each of these elements takes a standard set of named arguments. Some elements also have optional arguments. The standard arguments are as follows:</p>

<dl>

<dt id="name"><b>-name</b></dt>
<dd>

<p>The name of the field. After submission this name can be used to retrieve the field&#39;s value using the param() method.</p>

</dd>
<dt id="value--values"><b>-value</b>, <b>-values</b></dt>
<dd>

<p>The initial value of the field which will be returned to the script after form submission. Some form elements, such as text fields, take a single scalar -value argument. Others, such as popup menus, take a reference to an array of values. The two arguments are synonyms.</p>

</dd>
<dt id="tabindex1"><b>-tabindex</b></dt>
<dd>

<p>A numeric value that sets the order in which the form element receives focus when the user presses the tab key. Elements with lower values receive focus first.</p>

</dd>
<dt id="id"><b>-id</b></dt>
<dd>

<p>A string identifier that can be used to identify this element to JavaScript and DHTML.</p>

</dd>
<dt id="override"><b>-override</b></dt>
<dd>

<p>A boolean, which, if true, forces the element to take on the value specified by <b>-value</b>, overriding the sticky behavior described earlier for the <b>-nosticky</b> pragma.</p>

</dd>
<dt id="onChange--onFocus--onBlur--onMouseOver--onMouseOut--onSelect"><b>-onChange</b>, <b>-onFocus</b>, <b>-onBlur</b>, <b>-onMouseOver</b>, <b>-onMouseOut</b>, <b>-onSelect</b></dt>
<dd>

<p>These are used to assign JavaScript event handlers. See the JavaScripting section for more details.</p>

</dd>
</dl>

<p>Other common arguments are described in the next section. In addition to these, all attributes described in the HTML specifications are supported.</p>

<h2 id="Creating-a-text-field">Creating a text field</h2>

<pre><code>    <span class="keyword">print</span> <span class="variable">textfield</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'field_name'</span><span class="operator">,</span>
                    <span class="string">-value</span><span class="operator">=&gt;</span><span class="string">'starting value'</span><span class="operator">,</span>
                    <span class="string">-size</span><span class="operator">=&gt;</span><span class="number">50</span><span class="operator">,</span>
                    <span class="string">-maxlength</span><span class="operator">=&gt;</span><span class="number">80</span><span class="operator">);</span>
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
    
    <span class="keyword">print</span> <span class="variable">textfield</span><span class="operator">(</span><span class="string">'field_name'</span><span class="operator">,</span><span class="string">'starting value'</span><span class="operator">,</span><span class="number">50</span><span class="operator">,</span><span class="number">80</span><span class="operator">);</span>
</code></pre>

<p>textfield() will return a text input field.</p>

<p><b>Parameters</b></p>

<ol>

<li><p>The first parameter is the required name for the field (-name).</p>

</li>
<li><p>The optional second parameter is the default starting value for the field contents (-value, formerly known as -default).</p>

</li>
<li><p>The optional third parameter is the size of the field in characters (-size).</p>

</li>
<li><p>The optional fourth parameter is the maximum number of characters the field will accept (-maxlength).</p>

</li>
</ol>

<p>As with all these methods, the field will be initialized with its previous contents from earlier invocations of the script. When the form is processed, the value of the text field can be retrieved with:</p>

<pre><code>       <span class="variable">$value</span> <span class="operator">=</span> <span class="variable">param</span><span class="operator">(</span><span class="string">'foo'</span><span class="operator">);</span>
</code></pre>

<p>If you want to reset it from its initial value after the script has been called once, you can do so like this:</p>

<pre><code>       <span class="variable">param</span><span class="operator">(</span><span class="string">'foo'</span><span class="operator">,</span><span class="string">"I'm taking over this value!"</span><span class="operator">);</span>
</code></pre>

<h2 id="Creating-a-big-text-field">Creating a big text field</h2>

<pre><code>   <span class="keyword">print</span> <span class="variable">textarea</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'foo'</span><span class="operator">,</span>
                          <span class="string">-default</span><span class="operator">=&gt;</span><span class="string">'starting value'</span><span class="operator">,</span>
                          <span class="string">-rows</span><span class="operator">=&gt;</span><span class="number">10</span><span class="operator">,</span>
                          <span class="string">-columns</span><span class="operator">=&gt;</span><span class="number">50</span><span class="operator">);</span>
   
        <span class="operator">-</span><span class="keyword">or</span>
   
   <span class="keyword">print</span> <span class="variable">textarea</span><span class="operator">(</span><span class="string">'foo'</span><span class="operator">,</span><span class="string">'starting value'</span><span class="operator">,</span><span class="number">10</span><span class="operator">,</span><span class="number">50</span><span class="operator">);</span>
</code></pre>

<p>textarea() is just like textfield, but it allows you to specify rows and columns for a multiline text entry box. You can provide a starting value for the field, which can be long and contain multiple lines.</p>

<h2 id="Creating-a-password-field">Creating a password field</h2>

<pre><code>   <span class="keyword">print</span> <span class="variable">password_field</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'secret'</span><span class="operator">,</span>
                                <span class="string">-value</span><span class="operator">=&gt;</span><span class="string">'starting value'</span><span class="operator">,</span>
                                <span class="string">-size</span><span class="operator">=&gt;</span><span class="number">50</span><span class="operator">,</span>
                                <span class="string">-maxlength</span><span class="operator">=&gt;</span><span class="number">80</span><span class="operator">);</span>
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
   
   <span class="keyword">print</span> <span class="variable">password_field</span><span class="operator">(</span><span class="string">'secret'</span><span class="operator">,</span><span class="string">'starting value'</span><span class="operator">,</span><span class="number">50</span><span class="operator">,</span><span class="number">80</span><span class="operator">);</span>
</code></pre>

<p>password_field() is identical to textfield(), except that its contents will be starred out on the web page.</p>

<h2 id="Creating-a-file-upload-field">Creating a file upload field</h2>

<pre><code>    <span class="keyword">print</span> <span class="variable">filefield</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'uploaded_file'</span><span class="operator">,</span>
                            <span class="string">-default</span><span class="operator">=&gt;</span><span class="string">'starting value'</span><span class="operator">,</span>
                            <span class="string">-size</span><span class="operator">=&gt;</span><span class="number">50</span><span class="operator">,</span>
                            <span class="string">-maxlength</span><span class="operator">=&gt;</span><span class="number">80</span><span class="operator">);</span>
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
    
    <span class="keyword">print</span> <span class="variable">filefield</span><span class="operator">(</span><span class="string">'uploaded_file'</span><span class="operator">,</span><span class="string">'starting value'</span><span class="operator">,</span><span class="number">50</span><span class="operator">,</span><span class="number">80</span><span class="operator">);</span>
</code></pre>

<p>filefield() will return a file upload field. In order to take full advantage of this <i>you must use the new multipart encoding scheme</i> for the form. You can do this either by calling <b>start_form()</b> with an encoding type of <b>&amp;CGI::MULTIPART</b>, or by calling the new method <b>start_multipart_form()</b> instead of vanilla <b>start_form()</b>.</p>

<p><b>Parameters</b></p>

<ol>

<li><p>The first parameter is the required name for the field (-name).</p>

</li>
<li><p>The optional second parameter is the starting value for the field contents to be used as the default file name (-default).</p>

<p>For security reasons, browsers don&#39;t pay any attention to this field, and so the starting value will always be blank. Worse, the field loses its &quot;sticky&quot; behavior and forgets its previous contents. The starting value field is called for in the HTML specification, however, and possibly some browser will eventually provide support for it.</p>

</li>
<li><p>The optional third parameter is the size of the field in characters (-size).</p>

</li>
<li><p>The optional fourth parameter is the maximum number of characters the field will accept (-maxlength).</p>

</li>
</ol>

<p>JAVASCRIPTING: The <b>-onChange</b>, <b>-onFocus</b>, <b>-onBlur</b>, <b>-onMouseOver</b>, <b>-onMouseOut</b> and <b>-onSelect</b> parameters are recognized. See textfield() for details.</p>

<h2 id="Creating-a-popup-menu">Creating a popup menu</h2>

<pre><code>   <span class="keyword">print</span> <span class="variable">popup_menu</span><span class="operator">(</span><span class="string">'menu_name'</span><span class="operator">,</span>
                            <span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">]</span><span class="operator">,</span>
                            <span class="string">'meenie'</span><span class="operator">);</span>
   
      <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
   
   <span class="variable">%labels</span> <span class="operator">=</span> <span class="operator">(</span><span class="string">'eenie'</span><span class="operator">=&gt;</span><span class="string">'your first choice'</span><span class="operator">,</span>
              <span class="string">'meenie'</span><span class="operator">=&gt;</span><span class="string">'your second choice'</span><span class="operator">,</span>
              <span class="string">'minie'</span><span class="operator">=&gt;</span><span class="string">'your third choice'</span><span class="operator">);</span>
   <span class="variable">%attributes</span> <span class="operator">=</span> <span class="operator">(</span><span class="string">'eenie'</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">'class'</span><span class="operator">=&gt;</span><span class="string">'class of first choice'</span><span class="operator">}</span><span class="operator">);</span>
   <span class="keyword">print</span> <span class="variable">popup_menu</span><span class="operator">(</span><span class="string">'menu_name'</span><span class="operator">,</span>
                            <span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">]</span><span class="operator">,</span>
          <span class="string">'meenie'</span><span class="operator">,\</span><span class="variable">%labels</span><span class="operator">,\</span><span class="variable">%attributes</span><span class="operator">);</span>
   
        <span class="operator">-</span><span class="keyword">or</span> <span class="operator">(</span><span class="variable">named</span> <span class="variable">parameter</span> <span class="variable">style</span><span class="operator">)-</span>
   
   <span class="keyword">print</span> <span class="variable">popup_menu</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'menu_name'</span><span class="operator">,</span>
                            <span class="string">-values</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">]</span><span class="operator">,</span>
                            <span class="string">-default</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">]</span><span class="operator">,</span>
          <span class="string">-labels</span><span class="operator">=&gt;\</span><span class="variable">%labels</span><span class="operator">,</span>
          <span class="string">-attributes</span><span class="operator">=&gt;\</span><span class="variable">%attributes</span><span class="operator">);</span>
</code></pre>

<p>popup_menu() creates a menu. Please note that the -multiple option will be ignored if passed - use scrolling_list() if you want to create a menu that supports multiple selections</p>

<ol>

<li><p>The required first argument is the menu&#39;s name (-name).</p>

</li>
<li><p>The required second argument (-values) is an array <b>reference</b> containing the list of menu items in the menu. You can pass the method an anonymous array, as shown in the example, or a reference to a named array, such as &quot;\@foo&quot;.</p>

</li>
<li><p>The optional third parameter (-default) is the name of the default menu choice. If not specified, the first item will be the default. The values of the previous choice will be maintained across queries. Pass an array reference to select multiple defaults.</p>

</li>
<li><p>The optional fourth parameter (-labels) is provided for people who want to use different values for the user-visible label inside the popup menu and the value returned to your script. It&#39;s a pointer to an hash relating menu values to user-visible labels. If you leave this parameter blank, the menu values will be displayed by default. (You can also leave a label undefined if you want to).</p>

</li>
<li><p>The optional fifth parameter (-attributes) is provided to assign any of the common HTML attributes to an individual menu item. It&#39;s a pointer to a hash relating menu values to another hash with the attribute&#39;s name as the key and the attribute&#39;s value as the value.</p>

</li>
</ol>

<p>When the form is processed, the selected value of the popup menu can be retrieved using:</p>

<pre><code>      <span class="variable">$popup_menu_value</span> <span class="operator">=</span> <span class="variable">param</span><span class="operator">(</span><span class="string">'menu_name'</span><span class="operator">);</span>
</code></pre>

<h2 id="Creating-an-option-group">Creating an option group</h2>

<p>Named parameter style</p>

<pre><code>  <span class="keyword">print</span> <span class="variable">popup_menu</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'menu_name'</span><span class="operator">,</span>
                  <span class="string">-values</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">qw/eenie meenie minie/</span><span class="operator">,</span>
                            <span class="variable">optgroup</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'optgroup_name'</span><span class="operator">,</span>
                                             <span class="string">-values</span> <span class="operator">=&gt;</span> <span class="operator">[</span><span class="string">'moe'</span><span class="operator">,</span><span class="string">'catch'</span><span class="operator">]</span><span class="operator">,</span>
                                             <span class="string">-attributes</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">'catch'</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">'class'</span><span class="operator">=&gt;</span><span class="string">'red'</span><span class="operator">}}</span><span class="operator">)</span><span class="operator">]</span><span class="operator">,</span>
                  <span class="string">-labels</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">'eenie'</span><span class="operator">=&gt;</span><span class="string">'one'</span><span class="operator">,</span>
                            <span class="string">'meenie'</span><span class="operator">=&gt;</span><span class="string">'two'</span><span class="operator">,</span>
                            <span class="string">'minie'</span><span class="operator">=&gt;</span><span class="string">'three'</span><span class="operator">}</span><span class="operator">,</span>
                  <span class="string">-default</span><span class="operator">=&gt;</span><span class="string">'meenie'</span><span class="operator">);</span>
  
  <span class="variable">Old</span> <span class="variable">style</span>
  <span class="keyword">print</span> <span class="variable">popup_menu</span><span class="operator">(</span><span class="string">'menu_name'</span><span class="operator">,</span>
                  <span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span>
                   <span class="variable">optgroup</span><span class="operator">(</span><span class="string">'optgroup_name'</span><span class="operator">,</span> <span class="operator">[</span><span class="string">'moe'</span><span class="operator">,</span> <span class="string">'catch'</span><span class="operator">]</span><span class="operator">,</span>
                                   <span class="operator">{</span><span class="string">'catch'</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">'class'</span><span class="operator">=&gt;</span><span class="string">'red'</span><span class="operator">}}</span><span class="operator">)</span><span class="operator">]</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span>
                  <span class="operator">{</span><span class="string">'eenie'</span><span class="operator">=&gt;</span><span class="string">'one'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">=&gt;</span><span class="string">'two'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">=&gt;</span><span class="string">'three'</span><span class="operator">}</span><span class="operator">);</span>
</code></pre>

<p>optgroup() creates an option group within a popup menu.</p>

<ol>

<li><p>The required first argument (<b>-name</b>) is the label attribute of the optgroup and is <b>not</b> inserted in the parameter list of the query.</p>

</li>
<li><p>The required second argument (<b>-values</b>) is an array reference containing the list of menu items in the menu. You can pass the method an anonymous array, as shown in the example, or a reference to a named array, such as \@foo. If you pass a HASH reference, the keys will be used for the menu values, and the values will be used for the menu labels (see -labels below).</p>

</li>
<li><p>The optional third parameter (<b>-labels</b>) allows you to pass a reference to a hash containing user-visible labels for one or more of the menu items. You can use this when you want the user to see one menu string, but have the browser return your program a different one. If you don&#39;t specify this, the value string will be used instead (&quot;eenie&quot;, &quot;meenie&quot; and &quot;minie&quot; in this example). This is equivalent to using a hash reference for the -values parameter.</p>

</li>
<li><p>An optional fourth parameter (<b>-labeled</b>) can be set to a true value and indicates that the values should be used as the label attribute for each option element within the optgroup.</p>

</li>
<li><p>An optional fifth parameter (-novals) can be set to a true value and indicates to suppress the val attribute in each option element within the optgroup.</p>

<p>See the discussion on optgroup at W3C (http://www.w3.org/TR/REC-html40/interact/forms.html#edef-OPTGROUP) for details.</p>

</li>
<li><p>An optional sixth parameter (-attributes) is provided to assign any of the common HTML attributes to an individual menu item. It&#39;s a pointer to a hash relating menu values to another hash with the attribute&#39;s name as the key and the attribute&#39;s value as the value.</p>

</li>
</ol>

<h2 id="Creating-a-scrolling-list">Creating a scrolling list</h2>

<pre><code>   <span class="keyword">print</span> <span class="variable">scrolling_list</span><span class="operator">(</span><span class="string">'list_name'</span><span class="operator">,</span>
                                <span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
        <span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span><span class="number">5</span><span class="operator">,</span><span class="string">'true'</span><span class="operator">,</span><span class="operator">{</span><span class="string">'moe'</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">'class'</span><span class="operator">=&gt;</span><span class="string">'red'</span><span class="operator">}}</span><span class="operator">);</span>
      <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
   
   <span class="keyword">print</span> <span class="variable">scrolling_list</span><span class="operator">(</span><span class="string">'list_name'</span><span class="operator">,</span>
                                <span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
                                <span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span><span class="number">5</span><span class="operator">,</span><span class="string">'true'</span><span class="operator">,</span>
        <span class="operator">\</span><span class="variable">%labels</span><span class="operator">,</span><span class="variable">%attributes</span><span class="operator">);</span>
   
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
   
   <span class="keyword">print</span> <span class="variable">scrolling_list</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'list_name'</span><span class="operator">,</span>
                                <span class="string">-values</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
                                <span class="string">-default</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
                                <span class="string">-size</span><span class="operator">=&gt;</span><span class="number">5</span><span class="operator">,</span>
                                <span class="string">-multiple</span><span class="operator">=&gt;</span><span class="string">'true'</span><span class="operator">,</span>
        <span class="string">-labels</span><span class="operator">=&gt;\</span><span class="variable">%labels</span><span class="operator">,</span>
        <span class="string">-attributes</span><span class="operator">=&gt;\</span><span class="variable">%attributes</span><span class="operator">);</span>
</code></pre>

<p>scrolling_list() creates a scrolling list.</p>

<p><b>Parameters:</b></p>

<ol>

<li><p>The first and second arguments are the list name (-name) and values (-values). As in the popup menu, the second argument should be an array reference.</p>

</li>
<li><p>The optional third argument (-default) can be either a reference to a list containing the values to be selected by default, or can be a single value to select. If this argument is missing or undefined, then nothing is selected when the list first appears. In the named parameter version, you can use the synonym &quot;-defaults&quot; for this parameter.</p>

</li>
<li><p>The optional fourth argument is the size of the list (-size).</p>

</li>
<li><p>The optional fifth argument can be set to true to allow multiple simultaneous selections (-multiple). Otherwise only one selection will be allowed at a time.</p>

</li>
<li><p>The optional sixth argument is a pointer to a hash containing long user-visible labels for the list items (-labels). If not provided, the values will be displayed.</p>

</li>
<li><p>The optional sixth parameter (-attributes) is provided to assign any of the common HTML attributes to an individual menu item. It&#39;s a pointer to a hash relating menu values to another hash with the attribute&#39;s name as the key and the attribute&#39;s value as the value.</p>

<p>When this form is processed, all selected list items will be returned as a list under the parameter name &#39;list_name&#39;. The values of the selected items can be retrieved with:</p>

<pre><code>      <span class="variable">@selected</span> <span class="operator">=</span> <span class="variable">param</span><span class="operator">(</span><span class="string">'list_name'</span><span class="operator">);</span>
</code></pre>

</li>
</ol>

<h2 id="Creating-a-group-of-related-checkboxes">Creating a group of related checkboxes</h2>

<pre><code>   <span class="keyword">print</span> <span class="variable">checkbox_group</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'group_name'</span><span class="operator">,</span>
                                <span class="string">-values</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
                                <span class="string">-default</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
                                <span class="string">-linebreak</span><span class="operator">=&gt;</span><span class="string">'true'</span><span class="operator">,</span>
                                <span class="string">-disabled</span> <span class="operator">=&gt;</span> <span class="operator">[</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
        <span class="string">-labels</span><span class="operator">=&gt;\</span><span class="variable">%labels</span><span class="operator">,</span>
        <span class="string">-attributes</span><span class="operator">=&gt;\</span><span class="variable">%attributes</span><span class="operator">);</span>
   
   <span class="keyword">print</span> <span class="variable">checkbox_group</span><span class="operator">(</span><span class="string">'group_name'</span><span class="operator">,</span>
                                <span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
        <span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span><span class="string">'true'</span><span class="operator">,\</span><span class="variable">%labels</span><span class="operator">,</span>
        <span class="operator">{</span><span class="string">'moe'</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">'class'</span><span class="operator">=&gt;</span><span class="string">'red'</span><span class="operator">}}</span><span class="operator">);</span>
   
   <span class="variable">HTML3</span><span class="operator">-</span><span class="variable">COMPATIBLE</span> <span class="variable">BROWSERS</span> <span class="variable">ONLY</span><span class="operator">:</span>
   
   <span class="keyword">print</span> <span class="variable">checkbox_group</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'group_name'</span><span class="operator">,</span>
                                <span class="string">-values</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
                                <span class="operator">-</span><span class="variable">rows</span><span class="operator">=</span><span class="number">2</span><span class="operator">,</span><span class="string">-columns</span><span class="operator">=&gt;</span><span class="number">2</span><span class="operator">);</span>
</code></pre>

<p>checkbox_group() creates a list of checkboxes that are related by the same name.</p>

<p><b>Parameters:</b></p>

<ol>

<li><p>The first and second arguments are the checkbox name and values, respectively (-name and -values). As in the popup menu, the second argument should be an array reference. These values are used for the user-readable labels printed next to the checkboxes as well as for the values passed to your script in the query string.</p>

</li>
<li><p>The optional third argument (-default) can be either a reference to a list containing the values to be checked by default, or can be a single value to checked. If this argument is missing or undefined, then nothing is selected when the list first appears.</p>

</li>
<li><p>The optional fourth argument (-linebreak) can be set to true to place line breaks between the checkboxes so that they appear as a vertical list. Otherwise, they will be strung together on a horizontal line.</p>

</li>
</ol>

<p>The optional <b>-labels</b> argument is a pointer to a hash relating the checkbox values to the user-visible labels that will be printed next to them. If not provided, the values will be used as the default.</p>

<p>The optional parameters <b>-rows</b>, and <b>-columns</b> cause checkbox_group() to return an HTML3 compatible table containing the checkbox group formatted with the specified number of rows and columns. You can provide just the -columns parameter if you wish; checkbox_group will calculate the correct number of rows for you.</p>

<p>The option <b>-disabled</b> takes an array of checkbox values and disables them by greying them out (this may not be supported by all browsers).</p>

<p>The optional <b>-attributes</b> argument is provided to assign any of the common HTML attributes to an individual menu item. It&#39;s a pointer to a hash relating menu values to another hash with the attribute&#39;s name as the key and the attribute&#39;s value as the value.</p>

<p>The optional <b>-tabindex</b> argument can be used to control the order in which radio buttons receive focus when the user presses the tab button. If passed a scalar numeric value, the first element in the group will receive this tab index and subsequent elements will be incremented by one. If given a reference to an array of radio button values, then the indexes will be jiggered so that the order specified in the array will correspond to the tab order. You can also pass a reference to a hash in which the hash keys are the radio button values and the values are the tab indexes of each button. Examples:</p>

<pre><code>  <span class="string">-tabindex</span> <span class="operator">=&gt;</span> <span class="number">100</span>    <span class="comment">#  this group starts at index 100 and counts up</span>
  <span class="operator">-</span><span class="string">tabindex</span> <span class="operator">=&gt;</span> <span class="operator">[</span><span class="string">'moe'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">]</span>  <span class="comment"># tab in this order</span>
  <span class="operator">-</span><span class="string">tabindex</span> <span class="operator">=&gt;</span> <span class="operator">{</span><span class="string">meenie</span><span class="operator">=&gt;</span><span class="number">100</span><span class="operator">,</span><span class="string">moe</span><span class="operator">=&gt;</span><span class="number">101</span><span class="operator">,</span><span class="string">minie</span><span class="operator">=&gt;</span><span class="number">102</span><span class="operator">,</span><span class="string">eenie</span><span class="operator">=&gt;</span><span class="number">200</span><span class="operator">}</span> <span class="comment"># tab in this order</span>
</code></pre>

<p>The optional <b>-labelattributes</b> argument will contain attributes attached to the &lt;label&gt; element that surrounds each button.</p>

<p>When the form is processed, all checked boxes will be returned as a list under the parameter name &#39;group_name&#39;. The values of the &quot;on&quot; checkboxes can be retrieved with:</p>

<pre><code>      <span class="variable">@turned_on</span> <span class="operator">=</span> <span class="variable">param</span><span class="operator">(</span><span class="string">'group_name'</span><span class="operator">);</span>
</code></pre>

<p>The value returned by checkbox_group() is actually an array of button elements. You can capture them and use them within tables, lists, or in other creative ways:</p>

<pre><code>    <span class="variable">@h</span> <span class="operator">=</span> <span class="variable">checkbox_group</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'group_name'</span><span class="operator">,</span><span class="string">-values</span><span class="operator">=&gt;\</span><span class="variable">@values</span><span class="operator">);</span>
    <span class="operator">&amp;</span><span class="variable">use_in_creative_way</span><span class="operator">(</span><span class="variable">@h</span><span class="operator">);</span>
</code></pre>

<h2 id="Creating-a-standalone-checkbox">Creating a standalone checkbox</h2>

<pre><code>    <span class="keyword">print</span> <span class="variable">checkbox</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'checkbox_name'</span><span class="operator">,</span>
                           <span class="string">-checked</span><span class="operator">=&gt;</span><span class="number">1</span><span class="operator">,</span>
                           <span class="string">-value</span><span class="operator">=&gt;</span><span class="string">'ON'</span><span class="operator">,</span>
                           <span class="string">-label</span><span class="operator">=&gt;</span><span class="string">'CLICK ME'</span><span class="operator">);</span>
    
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
    
    <span class="keyword">print</span> <span class="variable">checkbox</span><span class="operator">(</span><span class="string">'checkbox_name'</span><span class="operator">,</span><span class="string">'checked'</span><span class="operator">,</span><span class="string">'ON'</span><span class="operator">,</span><span class="string">'CLICK ME'</span><span class="operator">);</span>
</code></pre>

<p>checkbox() is used to create an isolated checkbox that isn&#39;t logically related to any others.</p>

<p><b>Parameters:</b></p>

<ol>

<li><p>The first parameter is the required name for the checkbox (-name). It will also be used for the user-readable label printed next to the checkbox.</p>

</li>
<li><p>The optional second parameter (-checked) specifies that the checkbox is turned on by default. Synonyms are -selected and -on.</p>

</li>
<li><p>The optional third parameter (-value) specifies the value of the checkbox when it is checked. If not provided, the word &quot;on&quot; is assumed.</p>

</li>
<li><p>The optional fourth parameter (-label) is the user-readable label to be attached to the checkbox. If not provided, the checkbox name is used.</p>

</li>
</ol>

<p>The value of the checkbox can be retrieved using:</p>

<pre><code>    <span class="variable">$turned_on</span> <span class="operator">=</span> <span class="variable">param</span><span class="operator">(</span><span class="string">'checkbox_name'</span><span class="operator">);</span>
</code></pre>

<h2 id="Creating-a-radio-button-group">Creating a radio button group</h2>

<pre><code>   <span class="keyword">print</span> <span class="variable">radio_group</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'group_name'</span><span class="operator">,</span>
                             <span class="string">-values</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">]</span><span class="operator">,</span>
                             <span class="string">-default</span><span class="operator">=&gt;</span><span class="string">'meenie'</span><span class="operator">,</span>
                             <span class="string">-linebreak</span><span class="operator">=&gt;</span><span class="string">'true'</span><span class="operator">,</span>
           <span class="string">-labels</span><span class="operator">=&gt;\</span><span class="variable">%labels</span><span class="operator">,</span>
           <span class="string">-attributes</span><span class="operator">=&gt;\</span><span class="variable">%attributes</span><span class="operator">);</span>
   
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
   
   <span class="keyword">print</span> <span class="variable">radio_group</span><span class="operator">(</span><span class="string">'group_name'</span><span class="operator">,</span><span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">]</span><span class="operator">,</span>
            <span class="string">'meenie'</span><span class="operator">,</span><span class="string">'true'</span><span class="operator">,\</span><span class="variable">%labels</span><span class="operator">,\</span><span class="variable">%attributes</span><span class="operator">);</span>
   
   
   <span class="variable">HTML3</span><span class="operator">-</span><span class="variable">COMPATIBLE</span> <span class="variable">BROWSERS</span> <span class="variable">ONLY</span><span class="operator">:</span>
   
   <span class="keyword">print</span> <span class="variable">radio_group</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'group_name'</span><span class="operator">,</span>
                             <span class="string">-values</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span><span class="string">'moe'</span><span class="operator">]</span><span class="operator">,</span>
                             <span class="operator">-</span><span class="variable">rows</span><span class="operator">=</span><span class="number">2</span><span class="operator">,</span><span class="string">-columns</span><span class="operator">=&gt;</span><span class="number">2</span><span class="operator">);</span>
</code></pre>

<p>radio_group() creates a set of logically-related radio buttons (turning one member of the group on turns the others off)</p>

<p><b>Parameters:</b></p>

<ol>

<li><p>The first argument is the name of the group and is required (-name).</p>

</li>
<li><p>The second argument (-values) is the list of values for the radio buttons. The values and the labels that appear on the page are identical. Pass an array <i>reference</i> in the second argument, either using an anonymous array, as shown, or by referencing a named array as in &quot;\@foo&quot;.</p>

</li>
<li><p>The optional third parameter (-default) is the name of the default button to turn on. If not specified, the first item will be the default. You can provide a nonexistent button name, such as &quot;-&quot; to start up with no buttons selected.</p>

</li>
<li><p>The optional fourth parameter (-linebreak) can be set to &#39;true&#39; to put line breaks between the buttons, creating a vertical list.</p>

</li>
<li><p>The optional fifth parameter (-labels) is a pointer to an associative array relating the radio button values to user-visible labels to be used in the display. If not provided, the values themselves are displayed.</p>

</li>
</ol>

<p>All modern browsers can take advantage of the optional parameters <b>-rows</b>, and <b>-columns</b>. These parameters cause radio_group() to return an HTML3 compatible table containing the radio group formatted with the specified number of rows and columns. You can provide just the -columns parameter if you wish; radio_group will calculate the correct number of rows for you.</p>

<p>To include row and column headings in the returned table, you can use the <b>-rowheaders</b> and <b>-colheaders</b> parameters. Both of these accept a pointer to an array of headings to use. The headings are just decorative. They don&#39;t reorganize the interpretation of the radio buttons -- they&#39;re still a single named unit.</p>

<p>The optional <b>-tabindex</b> argument can be used to control the order in which radio buttons receive focus when the user presses the tab button. If passed a scalar numeric value, the first element in the group will receive this tab index and subsequent elements will be incremented by one. If given a reference to an array of radio button values, then the indexes will be jiggered so that the order specified in the array will correspond to the tab order. You can also pass a reference to a hash in which the hash keys are the radio button values and the values are the tab indexes of each button. Examples:</p>

<pre><code>  <span class="string">-tabindex</span> <span class="operator">=&gt;</span> <span class="number">100</span>    <span class="comment">#  this group starts at index 100 and counts up</span>
  <span class="operator">-</span><span class="string">tabindex</span> <span class="operator">=&gt;</span> <span class="operator">[</span><span class="string">'moe'</span><span class="operator">,</span><span class="string">'minie'</span><span class="operator">,</span><span class="string">'eenie'</span><span class="operator">,</span><span class="string">'meenie'</span><span class="operator">]</span>  <span class="comment"># tab in this order</span>
  <span class="operator">-</span><span class="string">tabindex</span> <span class="operator">=&gt;</span> <span class="operator">{</span><span class="string">meenie</span><span class="operator">=&gt;</span><span class="number">100</span><span class="operator">,</span><span class="string">moe</span><span class="operator">=&gt;</span><span class="number">101</span><span class="operator">,</span><span class="string">minie</span><span class="operator">=&gt;</span><span class="number">102</span><span class="operator">,</span><span class="string">eenie</span><span class="operator">=&gt;</span><span class="number">200</span><span class="operator">}</span> <span class="comment"># tab in this order</span>
</code></pre>

<p>The optional <b>-attributes</b> argument is provided to assign any of the common HTML attributes to an individual menu item. It&#39;s a pointer to a hash relating menu values to another hash with the attribute&#39;s name as the key and the attribute&#39;s value as the value.</p>

<p>The optional <b>-labelattributes</b> argument will contain attributes attached to the &lt;label&gt; element that surrounds each button.</p>

<p>When the form is processed, the selected radio button can be retrieved using:</p>

<pre><code>      <span class="variable">$which_radio_button</span> <span class="operator">=</span> <span class="variable">param</span><span class="operator">(</span><span class="string">'group_name'</span><span class="operator">);</span>
</code></pre>

<p>The value returned by radio_group() is actually an array of button elements. You can capture them and use them within tables, lists, or in other creative ways:</p>

<pre><code>    <span class="variable">@h</span> <span class="operator">=</span> <span class="variable">radio_group</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'group_name'</span><span class="operator">,</span><span class="string">-values</span><span class="operator">=&gt;\</span><span class="variable">@values</span><span class="operator">);</span>
    <span class="operator">&amp;</span><span class="variable">use_in_creative_way</span><span class="operator">(</span><span class="variable">@h</span><span class="operator">);</span>
</code></pre>

<h2 id="Creating-a-submit-button">Creating a submit button</h2>

<pre><code>   <span class="keyword">print</span> <span class="variable">submit</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'button_name'</span><span class="operator">,</span>
                        <span class="string">-value</span><span class="operator">=&gt;</span><span class="string">'value'</span><span class="operator">);</span>
   
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
   
   <span class="keyword">print</span> <span class="variable">submit</span><span class="operator">(</span><span class="string">'button_name'</span><span class="operator">,</span><span class="string">'value'</span><span class="operator">);</span>
</code></pre>

<p>submit() will create the query submission button. Every form should have one of these.</p>

<p><b>Parameters:</b></p>

<ol>

<li><p>The first argument (-name) is optional. You can give the button a name if you have several submission buttons in your form and you want to distinguish between them.</p>

</li>
<li><p>The second argument (-value) is also optional. This gives the button a value that will be passed to your script in the query string. The name will also be used as the user-visible label.</p>

</li>
<li><p>You can use -label as an alias for -value. I always get confused about which of -name and -value changes the user-visible label on the button.</p>

</li>
</ol>

<p>You can figure out which button was pressed by using different values for each one:</p>

<pre><code>     <span class="variable">$which_one</span> <span class="operator">=</span> <span class="variable">param</span><span class="operator">(</span><span class="string">'button_name'</span><span class="operator">);</span>
</code></pre>

<h2 id="Creating-a-reset-button">Creating a reset button</h2>

<pre><code>   print reset</code></pre>

<p>reset() creates the &quot;reset&quot; button. Note that it restores the form to its value from the last time the script was called, NOT necessarily to the defaults.</p>

<p>Note that this conflicts with the perl reset() built-in. Use CORE::reset() to get the original reset function.</p>

<h2 id="Creating-a-default-button">Creating a default button</h2>

<pre><code>   print defaults(&#39;button_label&#39;)</code></pre>

<p>defaults() creates a button that, when invoked, will cause the form to be completely reset to its defaults, wiping out all the changes the user ever made.</p>

<h2 id="Creating-a-hidden-field">Creating a hidden field</h2>

<pre><code>        <span class="keyword">print</span> <span class="variable">hidden</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'hidden_name'</span><span class="operator">,</span>
                             <span class="string">-default</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'value1'</span><span class="operator">,</span><span class="string">'value2'</span><span class="operator">...</span><span class="operator">]</span><span class="operator">);</span>
        
                <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
        
        <span class="keyword">print</span> <span class="variable">hidden</span><span class="operator">(</span><span class="string">'hidden_name'</span><span class="operator">,</span><span class="string">'value1'</span><span class="operator">,</span><span class="string">'value2'</span><span class="operator">...);</span>
</code></pre>

<p>hidden() produces a text field that can&#39;t be seen by the user. It is useful for passing state variable information from one invocation of the script to the next.</p>

<p><b>Parameters:</b></p>

<ol>

<li><p>The first argument is required and specifies the name of this field (-name).</p>

</li>
<li><p>The second argument is also required and specifies its value (-default). In the named parameter style of calling, you can provide a single value here or a reference to a whole list</p>

</li>
</ol>

<p>Fetch the value of a hidden field this way:</p>

<pre><code>     <span class="variable">$hidden_value</span> <span class="operator">=</span> <span class="variable">param</span><span class="operator">(</span><span class="string">'hidden_name'</span><span class="operator">);</span>
</code></pre>

<p>Note, that just like all the other form elements, the value of a hidden field is &quot;sticky&quot;. If you want to replace a hidden field with some other values after the script has been called once you&#39;ll have to do it manually:</p>

<pre><code>     <span class="variable">param</span><span class="operator">(</span><span class="string">'hidden_name'</span><span class="operator">,</span><span class="string">'new'</span><span class="operator">,</span><span class="string">'values'</span><span class="operator">,</span><span class="string">'here'</span><span class="operator">);</span>
</code></pre>

<h2 id="Creating-a-clickable-image-button">Creating a clickable image button</h2>

<pre><code>     <span class="keyword">print</span> <span class="variable">image_button</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'button_name'</span><span class="operator">,</span>
                                <span class="string">-src</span><span class="operator">=&gt;</span><span class="string">'/source/URL'</span><span class="operator">,</span>
                                <span class="string">-align</span><span class="operator">=&gt;</span><span class="string">'MIDDLE'</span><span class="operator">);</span>      
     
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
     
     <span class="keyword">print</span> <span class="variable">image_button</span><span class="operator">(</span><span class="string">'button_name'</span><span class="operator">,</span><span class="string">'/source/URL'</span><span class="operator">,</span><span class="string">'MIDDLE'</span><span class="operator">);</span>
</code></pre>

<p>image_button() produces a clickable image. When it&#39;s clicked on the position of the click is returned to your script as &quot;button_name.x&quot; and &quot;button_name.y&quot;, where &quot;button_name&quot; is the name you&#39;ve assigned to it.</p>

<p><b>Parameters:</b></p>

<ol>

<li><p>The first argument (-name) is required and specifies the name of this field.</p>

</li>
<li><p>The second argument (-src) is also required and specifies the URL</p>

</li>
<li><p>The third option (-align, optional) is an alignment type, and may be TOP, BOTTOM or MIDDLE</p>

</li>
</ol>

<p>Fetch the value of the button this way: $x = param(&#39;button_name.x&#39;); $y = param(&#39;button_name.y&#39;);</p>

<h2 id="Creating-a-javascript-action-button">Creating a javascript action button</h2>

<pre><code>     <span class="keyword">print</span> <span class="variable">button</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'button_name'</span><span class="operator">,</span>
                          <span class="string">-value</span><span class="operator">=&gt;</span><span class="string">'user visible label'</span><span class="operator">,</span>
                          <span class="string">-onClick</span><span class="operator">=&gt;</span><span class="string">"do_something()"</span><span class="operator">);</span>
     
        <span class="operator">-</span><span class="keyword">or</span><span class="operator">-</span>
     
     <span class="keyword">print</span> <span class="variable">button</span><span class="operator">(</span><span class="string">'button_name'</span><span class="operator">,</span><span class="string">"user visible value"</span><span class="operator">,</span><span class="string">"do_something()"</span><span class="operator">);</span>
</code></pre>

<p>button() produces an <code>&lt;input&gt;</code> tag with <code>type=&quot;button&quot;</code>. When it&#39;s pressed the fragment of JavaScript code pointed to by the <b>-onClick</b> parameter will be executed.</p>

<h1 id="WORKING-WITH-FRAMES">WORKING WITH FRAMES</h1>

<p>It&#39;s possible for CGI.pm scripts to write into several browser panels and windows using the HTML 4 frame mechanism. There are three techniques for defining new frames programmatically:</p>

<dl>

<dt id="Create-a-Frameset-document">1. Create a &lt;Frameset&gt; document</dt>
<dd>

<p>After writing out the HTTP header, instead of creating a standard HTML document using the start_html() call, create a &lt;frameset&gt; document that defines the frames on the page. Specify your script(s) (with appropriate parameters) as the SRC for each of the frames.</p>

<p>There is no specific support for creating &lt;frameset&gt; sections in CGI.pm, but the HTML is very simple to write.</p>

</dd>
<dt id="Specify-the-destination-for-the-document-in-the-HTTP-header">2. Specify the destination for the document in the HTTP header</dt>
<dd>

<p>You may provide a <b>-target</b> parameter to the header() method:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">header</span><span class="operator">(</span><span class="string">-target</span><span class="operator">=&gt;</span><span class="string">'ResultsWindow'</span><span class="operator">);</span>
</code></pre>

<p>This will tell the browser to load the output of your script into the frame named &quot;ResultsWindow&quot;. If a frame of that name doesn&#39;t already exist, the browser will pop up a new window and load your script&#39;s document into that. There are a number of magic names that you can use for targets. See the HTML <code>&lt;frame&gt;</code> documentation for details.</p>

</dd>
<dt id="Specify-the-destination-for-the-document-in-the-form-tag">3. Specify the destination for the document in the &lt;form&gt; tag</dt>
<dd>

<p>You can specify the frame to load in the FORM tag itself. With CGI.pm it looks like this:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">start_form</span><span class="operator">(</span><span class="string">-target</span><span class="operator">=&gt;</span><span class="string">'ResultsWindow'</span><span class="operator">);</span>
</code></pre>

<p>When your script is reinvoked by the form, its output will be loaded into the frame named &quot;ResultsWindow&quot;. If one doesn&#39;t already exist a new window will be created.</p>

</dd>
</dl>

<p>The script &quot;frameset.cgi&quot; in the examples directory shows one way to create pages in which the fill-out form and the response live in side-by-side frames.</p>

<h1 id="SUPPORT-FOR-JAVASCRIPT">SUPPORT FOR JAVASCRIPT</h1>

<p>The usual way to use JavaScript is to define a set of functions in a &lt;SCRIPT&gt; block inside the HTML header and then to register event handlers in the various elements of the page. Events include such things as the mouse passing over a form element, a button being clicked, the contents of a text field changing, or a form being submitted. When an event occurs that involves an element that has registered an event handler, its associated JavaScript code gets called.</p>

<p>The elements that can register event handlers include the &lt;BODY&gt; of an HTML document, hypertext links, all the various elements of a fill-out form, and the form itself. There are a large number of events, and each applies only to the elements for which it is relevant. Here is a partial list:</p>

<dl>

<dt id="onLoad"><b>onLoad</b></dt>
<dd>

<p>The browser is loading the current document. Valid in:</p>

<pre><code>     + The HTML &lt;BODY&gt; section only.</code></pre>

</dd>
<dt id="onUnload"><b>onUnload</b></dt>
<dd>

<p>The browser is closing the current page or frame. Valid for:</p>

<pre><code>     + The HTML &lt;BODY&gt; section only.</code></pre>

</dd>
<dt id="onSubmit"><b>onSubmit</b></dt>
<dd>

<p>The user has pressed the submit button of a form. This event happens just before the form is submitted, and your function can return a value of false in order to abort the submission. Valid for:</p>

<pre><code>     + Forms only.</code></pre>

</dd>
<dt id="onClick"><b>onClick</b></dt>
<dd>

<p>The mouse has clicked on an item in a fill-out form. Valid for:</p>

<pre><code>     + Buttons (including submit, reset, and image buttons)
     + Checkboxes
     + Radio buttons</code></pre>

</dd>
<dt id="onChange"><b>onChange</b></dt>
<dd>

<p>The user has changed the contents of a field. Valid for:</p>

<pre><code>     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</code></pre>

</dd>
<dt id="onFocus"><b>onFocus</b></dt>
<dd>

<p>The user has selected a field to work with. Valid for:</p>

<pre><code>     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</code></pre>

</dd>
<dt id="onBlur"><b>onBlur</b></dt>
<dd>

<p>The user has deselected a field (gone to work somewhere else). Valid for:</p>

<pre><code>     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</code></pre>

</dd>
<dt id="onSelect"><b>onSelect</b></dt>
<dd>

<p>The user has changed the part of a text field that is selected. Valid for:</p>

<pre><code>     + Text fields
     + Text areas
     + Password fields
     + File fields</code></pre>

</dd>
<dt id="onMouseOver"><b>onMouseOver</b></dt>
<dd>

<p>The mouse has moved over an element.</p>

<pre><code>     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</code></pre>

</dd>
<dt id="onMouseOut"><b>onMouseOut</b></dt>
<dd>

<p>The mouse has moved off an element.</p>

<pre><code>     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists</code></pre>

</dd>
</dl>

<p>In order to register a JavaScript event handler with an HTML element, just use the event name as a parameter when you call the corresponding CGI method. For example, to have your validateAge() JavaScript code executed every time the textfield named &quot;age&quot; changes, generate the field like this:</p>

<pre><code> <span class="keyword">print</span> <span class="variable">textfield</span><span class="operator">(</span><span class="string">-name</span><span class="operator">=&gt;</span><span class="string">'age'</span><span class="operator">,</span><span class="string">-onChange</span><span class="operator">=&gt;</span><span class="string">"validateAge(this)"</span><span class="operator">);</span>
</code></pre>

<p>This example assumes that you&#39;ve already declared the validateAge() function by incorporating it into a &lt;SCRIPT&gt; block. The CGI.pm start_html() method provides a convenient way to create this section.</p>

<p>Similarly, you can create a form that checks itself over for consistency and alerts the user if some essential value is missing by creating it this way: print start_form(-onSubmit=&gt;&quot;validateMe(this)&quot;);</p>

<p>See the javascript.cgi script for a demonstration of how this all works.</p>

<h1 id="LIMITED-SUPPORT-FOR-CASCADING-STYLE-SHEETS">LIMITED SUPPORT FOR CASCADING STYLE SHEETS</h1>

<p>CGI.pm has limited support for HTML3&#39;s cascading style sheets (css). To incorporate a stylesheet into your document, pass the start_html() method a <b>-style</b> parameter. The value of this parameter may be a scalar, in which case it is treated as the source URL for the stylesheet, or it may be a hash reference. In the latter case you should provide the hash with one or more of <b>-src</b> or <b>-code</b>. <b>-src</b> points to a URL where an externally-defined stylesheet can be found. <b>-code</b> points to a scalar value to be incorporated into a &lt;style&gt; section. Style definitions in <b>-code</b> override similarly-named ones in <b>-src</b>, hence the name &quot;cascading.&quot;</p>

<p>You may also specify the type of the stylesheet by adding the optional <b>-type</b> parameter to the hash pointed to by <b>-style</b>. If not specified, the style defaults to &#39;text/css&#39;.</p>

<p>To refer to a style within the body of your document, add the <b>-class</b> parameter to any HTML element:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">h1</span><span class="operator">(</span><span class="operator">{</span><span class="string">-class</span><span class="operator">=&gt;</span><span class="string">'Fancy'</span><span class="operator">}</span><span class="operator">,</span><span class="string">'Welcome to the Party'</span><span class="operator">);</span>
</code></pre>

<p>Or define styles on the fly with the <b>-style</b> parameter:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">h1</span><span class="operator">(</span><span class="operator">{</span><span class="string">-style</span><span class="operator">=&gt;</span><span class="string">'Color: red;'</span><span class="operator">}</span><span class="operator">,</span><span class="string">'Welcome to Hell'</span><span class="operator">);</span>
</code></pre>

<p>You may also use the new <b>span()</b> element to apply a style to a section of text:</p>

<pre><code>    <span class="keyword">print</span> <span class="variable">span</span><span class="operator">(</span><span class="operator">{</span><span class="string">-style</span><span class="operator">=&gt;</span><span class="string">'Color: red;'</span><span class="operator">}</span><span class="operator">,</span>
               <span class="variable">h1</span><span class="operator">(</span><span class="string">'Welcome to Hell'</span><span class="operator">),</span>
               <span class="string">"Where did that handbasket get to?"</span>
               <span class="operator">);</span>
</code></pre>

<p>Note that you must import the &quot;:html3&quot; definitions to have the <b>span()</b> method available. Here&#39;s a quick and dirty example of using CSS&#39;s. See the CSS specification at http://www.w3.org/Style/CSS/ for more information.</p>

<pre><code>    <span class="keyword">use</span> <span class="variable">CGI</span> <span class="string">qw/:standard :html3/</span><span class="operator">;</span>
    
    <span class="comment">#here's a stylesheet incorporated directly into the page</span>
    <span class="variable">$newStyle</span><span class="operator">=&lt;&lt;</span><span class="default">END</span><span class="operator">;</span><span class="string">
    &lt;!-- 
    P.Tip {
        margin-right: 50pt;
        margin-left: 50pt;
        color: red;
    }
    P.Alert {
        font-size: 30pt;
        font-family: sans-serif;
      color: red;
    }
    --&gt;
    </span><span class="default">END</span>
    <span class="keyword">print</span> <span class="variable">header</span><span class="operator">();</span>
    <span class="keyword">print</span> <span class="variable">start_html</span><span class="operator">(</span> <span class="string">-title</span><span class="operator">=&gt;</span><span class="string">'CGI with Style'</span><span class="operator">,</span>
                      <span class="string">-style</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">-src</span><span class="operator">=&gt;</span><span class="string">'http://www.capricorn.com/style/st1.css'</span><span class="operator">,</span>
                               <span class="string">-code</span><span class="operator">=&gt;</span><span class="variable">$newStyle</span><span class="operator">}</span>
                     <span class="operator">);</span>
    <span class="keyword">print</span> <span class="variable">h1</span><span class="operator">(</span><span class="string">'CGI with Style'</span><span class="operator">),</span>
          <span class="variable">p</span><span class="operator">(</span><span class="operator">{</span><span class="string">-class</span><span class="operator">=&gt;</span><span class="string">'Tip'</span><span class="operator">}</span><span class="operator">,</span>
            <span class="string">"Better read the cascading style sheet spec before playing with this!"</span><span class="operator">),</span>
          <span class="variable">span</span><span class="operator">(</span><span class="operator">{</span><span class="string">-style</span><span class="operator">=&gt;</span><span class="string">'color: magenta'</span><span class="operator">}</span><span class="operator">,</span>
               <span class="string">"Look Mom, no hands!"</span><span class="operator">,</span>
               <span class="variable">p</span><span class="operator">(),</span>
               <span class="string">"Whooo wee!"</span>
               <span class="operator">);</span>
    <span class="keyword">print</span> <span class="variable">end_html</span><span class="operator">;</span>
</code></pre>

<p>Pass an array reference to <b>-code</b> or <b>-src</b> in order to incorporate multiple stylesheets into your document.</p>

<p>Should you wish to incorporate a verbatim stylesheet that includes arbitrary formatting in the header, you may pass a -verbatim tag to the -style hash, as follows:</p>

<p>print start_html (-style =&gt; {-verbatim =&gt; &#39;@import url(&quot;/server-common/css/&#39;.$cssFile.&#39;&quot;);&#39;, -src =&gt; &#39;/server-common/css/core.css&#39;});</p>

<p>This will generate an HTML header that contains this:</p>

<pre><code> <span class="operator">&lt;</span><span class="keyword">link</span> <span class="variable">rel</span><span class="operator">=</span><span class="string">"stylesheet"</span> <span class="variable">type</span><span class="operator">=</span><span class="string">"text/css"</span>  <span class="variable">href</span><span class="operator">=</span><span class="string">"/server-common/css/core.css"</span><span class="operator">&gt;</span>
   <span class="operator">&lt;</span><span class="variable">style</span> <span class="variable">type</span><span class="operator">=</span><span class="string">"text/css"</span><span class="operator">&gt;</span>
   <span class="variable">@import</span> <span class="variable">url</span><span class="operator">(</span><span class="string">"/server-common/css/main.css"</span><span class="operator">);</span>
   <span class="operator">&lt;/</span><span class="variable">style</span><span class="operator">&gt;</span>
</code></pre>

<p>Any additional arguments passed in the -style value will be incorporated into the &lt;link&gt; tag. For example:</p>

<pre><code> <span class="variable">start_html</span><span class="operator">(</span><span class="string">-style</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">-src</span><span class="operator">=&gt;</span><span class="operator">[</span><span class="string">'/styles/print.css'</span><span class="operator">,</span><span class="string">'/styles/layout.css'</span><span class="operator">]</span><span class="operator">,</span>
                          <span class="string">-media</span> <span class="operator">=&gt;</span> <span class="string">'all'</span><span class="operator">}</span><span class="operator">);</span>
</code></pre>

<p>This will give:</p>

<pre><code> &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/styles/print.css&quot; media=&quot;all&quot;/&gt;
 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/styles/layout.css&quot; media=&quot;all&quot;/&gt;</code></pre>

<p>&lt;p&gt;</p>

<p>To make more complicated &lt;link&gt; tags, use the Link() function and pass it to start_html() in the -head argument, as in:</p>

<pre><code>  <span class="variable">@h</span> <span class="operator">=</span> <span class="operator">(</span><span class="variable">Link</span><span class="operator">(</span><span class="operator">{</span><span class="string">-rel</span><span class="operator">=&gt;</span><span class="string">'stylesheet'</span><span class="operator">,</span><span class="string">-type</span><span class="operator">=&gt;</span><span class="string">'text/css'</span><span class="operator">,</span><span class="string">-src</span><span class="operator">=&gt;</span><span class="string">'/ss/ss.css'</span><span class="operator">,</span><span class="string">-media</span><span class="operator">=&gt;</span><span class="string">'all'</span><span class="operator">}</span><span class="operator">),</span>
        <span class="variable">Link</span><span class="operator">(</span><span class="operator">{</span><span class="string">-rel</span><span class="operator">=&gt;</span><span class="string">'stylesheet'</span><span class="operator">,</span><span class="string">-type</span><span class="operator">=&gt;</span><span class="string">'text/css'</span><span class="operator">,</span><span class="string">-src</span><span class="operator">=&gt;</span><span class="string">'/ss/fred.css'</span><span class="operator">,</span><span class="string">-media</span><span class="operator">=&gt;</span><span class="string">'paper'</span><span class="operator">}</span><span class="operator">));</span>
  <span class="keyword">print</span> <span class="variable">start_html</span><span class="operator">(</span><span class="operator">{</span><span class="string">-head</span><span class="operator">=&gt;\</span><span class="variable">@h</span><span class="operator">}</span><span class="operator">)</span>
</code></pre>

<p>To create primary and &quot;alternate&quot; stylesheet, use the <b>-alternate</b> option:</p>

<pre><code> <span class="variable">start_html</span><span class="operator">(</span><span class="string">-style</span><span class="operator">=&gt;</span><span class="operator">{</span><span class="string">-src</span><span class="operator">=&gt;</span><span class="operator">[</span>
                           <span class="operator">{</span><span class="string">-src</span><span class="operator">=&gt;</span><span class="string">'/styles/print.css'</span><span class="operator">}</span><span class="operator">,</span>
                           <span class="operator">{</span><span class="string">-src</span><span class="operator">=&gt;</span><span class="string">'/styles/alt.css'</span><span class="operator">,</span><span class="string">-alternate</span><span class="operator">=&gt;</span><span class="number">1</span><span class="operator">}</span>
                           <span class="operator">]</span>
                    <span class="operator">}</span><span class="operator">);</span>
</code></pre>

<h2 id="Dumping-out-all-the-name-value-pairs">Dumping out all the name/value pairs</h2>

<p>The Dump() method produces a string consisting of all the query&#39;s name/value pairs formatted nicely as a nested list. This is useful for debugging purposes:</p>

<pre><code>    print Dump</code></pre>

<p>Produces something that looks like:</p>

<pre><code>    &lt;ul&gt;
    &lt;li&gt;name1
        &lt;ul&gt;
        &lt;li&gt;value1
        &lt;li&gt;value2
        &lt;/ul&gt;
    &lt;li&gt;name2
        &lt;ul&gt;
        &lt;li&gt;value1
        &lt;/ul&gt;
    &lt;/ul&gt;</code></pre>

<p>As a shortcut, you can interpolate the entire CGI object into a string and it will be replaced with the a nice HTML dump shown above:</p>

<pre><code>    <span class="variable">$q</span><span class="operator">=</span><span class="variable">CGI</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"&lt;h2&gt;Current Values&lt;/h2&gt; </span><span class="variable">$q</span><span class="string">\n"</span><span class="operator">;</span>
</code></pre>

<h1 id="BUGS">BUGS</h1>

<p>Address bug reports and comments to: <a href="https://github.com/leejo/CGI.pm/issues">https://github.com/leejo/CGI.pm/issues</a></p>

<p>See the <a href="https://github.com/leejo/CGI.pm/blob/master/CONTRIBUTING.md">https://github.com/leejo/CGI.pm/blob/master/CONTRIBUTING.md</a> file for information on raising issues and contributing</p>

<p>The original bug tracker can be found at: <a href="https://rt.cpan.org/Public/Dist/Display.html?Queue=CGI.pm">https://rt.cpan.org/Public/Dist/Display.html?Queue=CGI.pm</a></p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p><a href="../../../lib/CGI.html">CGI</a> - The original source of this documentation / functionality</p>


</body>

</html>


