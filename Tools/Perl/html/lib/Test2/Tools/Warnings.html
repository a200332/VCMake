<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../displayToc.js"></script>
<script language="JavaScript" src="../../../tocParas.js"></script>
<script language="JavaScript" src="../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#EXPORTS">EXPORTS</a></li>
  <li><a href="#SOURCE">SOURCE</a></li>
  <li><a href="#MAINTAINERS">MAINTAINERS</a></li>
  <li><a href="#AUTHORS">AUTHORS</a></li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Test2::Tools::Warnings - Tools to verify warnings.</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This is a collection of tools that can be used to test code that issues warnings.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>    <span class="keyword">use</span> <span class="variable">Test2::Tools::Warnings</span> <span class="string">qw/warns warning warnings no_warnings/</span><span class="operator">;</span>
    
    <span class="variable">ok</span><span class="operator">(</span><span class="variable">warns</span> <span class="operator">{</span> <span class="keyword">warn</span> <span class="string">'a'</span> <span class="operator">},</span> <span class="string">"the code warns"</span><span class="operator">);</span>
    <span class="variable">ok</span><span class="operator">(!</span><span class="variable">warns</span> <span class="operator">{</span> <span class="number">1</span> <span class="operator">},</span> <span class="string">"The code does not warn"</span><span class="operator">);</span>
    <span class="variable">is</span><span class="operator">(</span><span class="variable">warns</span> <span class="operator">{</span> <span class="keyword">warn</span> <span class="string">'a'</span><span class="operator">;</span> <span class="keyword">warn</span> <span class="string">'b'</span> <span class="operator">},</span> <span class="number">2</span><span class="operator">,</span> <span class="string">"got 2 warnings"</span><span class="operator">);</span>
    
    <span class="variable">ok</span><span class="operator">(</span><span class="variable">no_warnings</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">},</span> <span class="string">"code did not warn"</span><span class="operator">);</span>
    
    <span class="variable">like</span><span class="operator">(</span>
        <span class="variable">warning</span> <span class="operator">{</span> <span class="keyword">warn</span> <span class="string">'xxx'</span> <span class="operator">},</span>
        <span class="string">qr/xxx/</span><span class="operator">,</span>
        <span class="string">"Got expected warning"</span>
    <span class="operator">);</span>
    
    <span class="variable">is</span><span class="operator">(</span>
        <span class="variable">warnings</span> <span class="operator">{</span> <span class="keyword">warn</span> <span class="string">"a\n"</span><span class="operator">;</span> <span class="keyword">warn</span> <span class="string">"b\n"</span> <span class="operator">},</span>
        <span class="operator">[</span>
            <span class="string">"a\n"</span><span class="operator">,</span>
            <span class="string">"b\n"</span><span class="operator">,</span>
        <span class="operator">]</span><span class="operator">,</span>
        <span class="string">"Got 2 specific warnings"</span>
    <span class="operator">);</span>
</code></pre>

<h1 id="EXPORTS">EXPORTS</h1>

<p>All subs are exported by default.</p>

<dl>

<dt id="count-warns">$count = warns { ... }</dt>
<dd>

<p>Returns the count of warnings produced by the block. This will always return 0, or a positive integer.</p>

</dd>
<dt id="warning-warning">$warning = warning { ... }</dt>
<dd>

<p>Returns the first warning generated by the block. If the block produces more than one warning, they will all be shown as notes, and an actual warning will tell you about it.</p>

</dd>
<dt id="warnings_ref-warnings">$warnings_ref = warnings { ... }</dt>
<dd>

<p>Returns an arrayref with all the warnings produced by the block. This will always return an array reference. If there are no warnings, this will return an empty array reference.</p>

</dd>
<dt id="bool-no_warnings">$bool = no_warnings { ... }</dt>
<dd>

<p>Return true if the block has no warnings. Returns false if there are warnings.</p>

</dd>
</dl>

<h1 id="SOURCE">SOURCE</h1>

<p>The source code repository for Test2-Suite can be found at <i>http://github.com/Test-More/Test2-Suite/</i>.</p>

<h1 id="MAINTAINERS">MAINTAINERS</h1>

<dl>

<dt id="Chad-Granum-exodist-cpan.org">Chad Granum &lt;exodist@cpan.org&gt;</dt>
<dd>

</dd>
</dl>

<h1 id="AUTHORS">AUTHORS</h1>

<dl>

<dt id="Chad-Granum-exodist-cpan.org1">Chad Granum &lt;exodist@cpan.org&gt;</dt>
<dd>

</dd>
</dl>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>Copyright 2017 Chad Granum &lt;exodist@cpan.org&gt;.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<p>See <i>http://dev.perl.org/licenses/</i></p>


</body>

</html>


